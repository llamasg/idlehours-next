import{a as O,j as a,as as vn,c as le,at as dr,C as De,b as xn,S as Ee,au as Pe,H as Bn,I as Eu,Z as ge,ag as Hr,a4 as Wr,av as bn,aw as Sn,ax as wn,R as Kr,F as Je,ay as Qe,a9 as Yr,az as jn,aA as _n,y as Rn,aB as zn,aC as Pn,aD as On,aE as In,aF as Ar,aG as Er,aH as Ot,f as ne,aI as Re,V as Nn,aJ as Xr,B as ue,T as ye,aK as kn,aL as $n,aM as Ln,aN as Tn,Q as gr,aO as Cu,aP as Mn,aQ as Vn,aR as qn,an as jt,aS as Jn,aT as Qn,aU as Un,aV as Hn,aW as Wn,aX as yr,aY as Kn,aZ as Yn,a_ as Xn,a$ as Gn,b0 as Zn,am as ei,a5 as ti,b1 as ui,b2 as ri,b3 as Uu,b4 as Gr,b5 as ni,b6 as Zr,b7 as ii,b8 as si,b9 as en,ba as ai,bb as oi}from"./sanity.config-DKs9AkYA.js";import{l as li,h as ci,a as di,b as Di,c as fi,i as pi,d as hi,e as Ci,f as mi,g as Fi,s as tn,j as Ai,k as Ei,m as gi,n as yi,R as vi,E as xi,o as Bi,H as bi,t as L}from"./index-BiR7GKqX.js";import{javascriptLanguage as Si}from"./index-BVxRr8vX.js";import"./index-o9I05E0_.js";var wi=Object.defineProperty,vr=Object.getOwnPropertySymbols,ji=Object.prototype.hasOwnProperty,_i=Object.prototype.propertyIsEnumerable,xr=(t,e,u)=>e in t?wi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u,Br=(t,e)=>{for(var u in e||(e={}))ji.call(e,u)&&xr(t,u,e[u]);if(vr)for(var u of vr(e))_i.call(e,u)&&xr(t,u,e[u]);return t};const br=function(t){const{children:e,className:u,split:r,style:l,size:n,eleRef:o}=t;let i={flex:1,position:"relative",outline:"none"};n!==void 0&&(r==="vertical"?i.width=n:(i.height=n,i.display="flex"),i.flex="none"),i=Br(Br({},i),l);const s=["Pane",r,u].filter(Boolean).join(" ");return a.jsx("div",{role:"region",ref:o,className:s,style:i,children:e})},rr="Resizer",Ri=function(t){const{className:e=rr,onClick:u,onDoubleClick:r,onMouseDown:l,onTouchEnd:n,onTouchStart:o,resizerClassName:i,split:s,style:d}=t,C=[i,s,e].filter(Boolean).join(" ");return a.jsx("span",{role:"separator",className:C,style:d,onMouseDown:D=>l(D.nativeEvent),onTouchStart:D=>{D.preventDefault(),o(D.nativeEvent)},onTouchEnd:D=>{D.preventDefault(),n(D.nativeEvent)},onClick:D=>{u&&(D.preventDefault(),u(D.nativeEvent))},onDoubleClick:D=>{r&&(D.preventDefault(),r(D.nativeEvent))}})};var zi=Object.defineProperty,Pi=Object.defineProperties,Oi=Object.getOwnPropertyDescriptors,Sr=Object.getOwnPropertySymbols,Ii=Object.prototype.hasOwnProperty,Ni=Object.prototype.propertyIsEnumerable,nr=(t,e,u)=>e in t?zi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u,xe=(t,e)=>{for(var u in e||(e={}))Ii.call(e,u)&&nr(t,u,e[u]);if(Sr)for(var u of Sr(e))Ni.call(e,u)&&nr(t,u,e[u]);return t},mu=(t,e)=>Pi(t,Oi(e)),hu=(t,e,u)=>nr(t,typeof e!="symbol"?e+"":e,u);const un={display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},ki=mu(xe({},un),{flexDirection:"row",left:0,right:0}),$i=mu(xe({},un),{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"}),Hu={},rn=class _t extends O.Component{constructor(e){super(e),hu(this,"pane1",null),hu(this,"pane2",null),hu(this,"splitPane",null),this.onMouseDown=this.onMouseDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this);const{size:u,defaultSize:r,minSize:l,maxSize:n,primary:o}=e,i=u!==void 0?u:jr(r,l,n,void 0);this.state={active:!1,resized:!1,pane1Size:o==="first"?i:void 0,pane2Size:o==="second"?i:void 0,instanceProps:{size:u}}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(_t.getSizeUpdate(this.props,this.state))}static getDerivedStateFromProps(e,u){return _t.getSizeUpdate(e,u)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}onMouseDown(e){this.onTouchStart(mu(xe({},e),{touches:[{clientX:e.clientX,clientY:e.clientY}]}))}onTouchStart(e){const{allowResize:u,onDragStarted:r,split:l}=this.props;if(u){wr(document,window);const n=l==="vertical"?e.touches[0].clientX:e.touches[0].clientY;typeof r=="function"&&r(),this.setState({active:!0,position:n})}}onMouseMove(e){const u=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(u)}onTouchMove(e){if(!this.state.active||!this.props.allowResize)return;const{position:u=0}=this.state,{maxSize:r,minSize:l=_t.defaultProps.minSize,onChange:n,split:o=_t.defaultProps.split,step:i}=this.props;wr(document,window);const s=this.props.primary==="first",d=s?this.pane1:this.pane2,C=s?this.pane2:this.pane1;if(!d||!C||!d.getBoundingClientRect)return;const D=d,B=C,F=D.getBoundingClientRect().width,y=D.getBoundingClientRect().height,c=o==="vertical"?e.touches[0].clientX:e.touches[0].clientY,m=o==="vertical"?F:y;let h=u-c;if(i){if(Math.abs(h)<i)return;h=~~(h/i)*i}let b=s?h:-h;const R=parseInt(window.getComputedStyle(D).order),w=parseInt(window.getComputedStyle(B).order);R>w&&(b=-b);let E=r;this.splitPane&&r!==void 0&&r<=0&&(o==="vertical"?E=this.splitPane.getBoundingClientRect().width+r:E=this.splitPane.getBoundingClientRect().height+r);let P=m-b;const T=u-h;l&&P<l?P=l:E!==void 0&&P>E?P=E:this.setState({position:T,resized:!0}),n&&n(P);const H=s?{pane1Size:P,pane2Size:void 0}:{pane2Size:P,pane1Size:void 0};this.setState(xe({draggedSize:P},H))}onMouseUp(){if(!this.state.active||!this.props.allowResize)return;const{onDragFinished:e}=this.props,{draggedSize:u}=this.state;typeof u<"u"&&typeof e=="function"&&e(u),this.setState({active:!1})}static getSizeUpdate(e,u){const{instanceProps:r}=u;if(r.size===e.size&&e.size!==void 0)return{};const l=e.size!==void 0?e.size:jr(e.defaultSize,e.minSize,e.maxSize,u.draggedSize),n=e.primary==="first"?{pane1Size:l,pane2Size:void 0}:{pane2Size:l,pane1Size:void 0};return mu(xe(xe({},n),typeof e.size>"u"?{}:{draggedSize:l}),{instanceProps:{size:e.size}})}render(){const{allowResize:e,children:u,className:r,onResizerClick:l,onResizerDoubleClick:n,paneClassName:o,pane1ClassName:i,pane2ClassName:s,paneStyle:d,pane1Style:C,pane2Style:D,resizerClassName:B=rr,resizerStyle:F,split:y,style:c}=this.props,{pane1Size:m,pane2Size:h}=this.state,b=e?"":"disabled",R=B&&`${B} ${rr}`,w=Li(u),E=y==="vertical"?ki:$i,P=c?xe(xe({},E),c):E,T=["SplitPane",r,y,b].filter(Boolean).join(" "),H=_r(xe(xe({},d),C),Hu),g=_r(xe(xe({},d),D),Hu),p=["Pane1",o,i].join(" "),x=["Pane2",o,s].join(" ");return a.jsxs("div",{"data-testid":"split-pane",className:T,style:P,ref:S=>{this.splitPane=S},children:[a.jsx(br,{className:p,eleRef:S=>{this.pane1=S},size:m,split:y,style:H,children:w[0]},"pane1"),a.jsx(Ri,{className:b,onClick:l,onDoubleClick:n,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,resizerClassName:R,split:y||"vertical",style:F||Hu},"resizer"),a.jsx(br,{className:x,eleRef:S=>{this.pane2=S},size:h,split:y,style:g,children:w[1]},"pane2")]})}};hu(rn,"defaultProps",{allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""});let Wu=rn;function wr(t,e){var u;if("selection"in t&&typeof t.selection=="object"&&t.selection&&"empty"in t.selection&&typeof t.selection.empty=="function")try{t.selection.empty()}catch{}else if(typeof e<"u"&&typeof e.getSelection=="function")try{(u=e.getSelection())==null||u.removeAllRanges()}catch{}}function jr(t,e,u,r){if(typeof r=="number"){const l=typeof e=="number"?e:0,n=typeof u=="number"&&u>=0?u:1/0;return Math.max(l,Math.min(n,r))}return t!==void 0?t:e}function Li(t){return O.Children.toArray(t).filter(e=>e)}function Ti(t){return t===null||typeof t>"u"||Object.keys(t).length===0}function _r(t,e){return Ti(t)?e:t}var Mi=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,Vi=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,qi=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Ku={Space_Separator:Mi,ID_Start:Vi,ID_Continue:qi},de={isSpaceSeparator(t){return typeof t=="string"&&Ku.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||Ku.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="‌"||t==="‍"||Ku.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let ir,Fe,Me,Fu,He,ze,pe,Dr,zt;var Ji=function(e,u){ir=String(e),Fe="start",Me=[],Fu=0,He=1,ze=0,pe=void 0,Dr=void 0,zt=void 0;do pe=Qi(),Wi[Fe]();while(pe.type!=="eof");return typeof u=="function"?sr({"":zt},"",u):zt};function sr(t,e,u){const r=t[e];if(r!=null&&typeof r=="object")if(Array.isArray(r))for(let l=0;l<r.length;l++){const n=String(l),o=sr(r,n,u);o===void 0?delete r[n]:Object.defineProperty(r,n,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(const l in r){const n=sr(r,l,u);n===void 0?delete r[l]:Object.defineProperty(r,l,{value:n,writable:!0,enumerable:!0,configurable:!0})}return u.call(t,e,r)}let K,U,Rt,Te,Z;function Qi(){for(K="default",U="",Rt=!1,Te=1;;){Z=qe();const t=nn[K]();if(t)return t}}function qe(){if(ir[Fu])return String.fromCodePoint(ir.codePointAt(Fu))}function A(){const t=qe();return t===`
`?(He++,ze=0):t?ze+=t.length:ze++,t&&(Fu+=t.length),t}const nn={default(){switch(Z){case"	":case"\v":case"\f":case" ":case" ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":A();return;case"/":A(),K="comment";return;case void 0:return A(),se("eof")}if(de.isSpaceSeparator(Z)){A();return}return nn[Fe]()},comment(){switch(Z){case"*":A(),K="multiLineComment";return;case"/":A(),K="singleLineComment";return}throw ae(A())},multiLineComment(){switch(Z){case"*":A(),K="multiLineCommentAsterisk";return;case void 0:throw ae(A())}A()},multiLineCommentAsterisk(){switch(Z){case"*":A();return;case"/":A(),K="default";return;case void 0:throw ae(A())}A(),K="multiLineComment"},singleLineComment(){switch(Z){case`
`:case"\r":case"\u2028":case"\u2029":A(),K="default";return;case void 0:return A(),se("eof")}A()},value(){switch(Z){case"{":case"[":return se("punctuator",A());case"n":return A(),Ye("ull"),se("null",null);case"t":return A(),Ye("rue"),se("boolean",!0);case"f":return A(),Ye("alse"),se("boolean",!1);case"-":case"+":A()==="-"&&(Te=-1),K="sign";return;case".":U=A(),K="decimalPointLeading";return;case"0":U=A(),K="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":U=A(),K="decimalInteger";return;case"I":return A(),Ye("nfinity"),se("numeric",1/0);case"N":return A(),Ye("aN"),se("numeric",NaN);case'"':case"'":Rt=A()==='"',U="",K="string";return}throw ae(A())},identifierNameStartEscape(){if(Z!=="u")throw ae(A());A();const t=ar();switch(t){case"$":case"_":break;default:if(!de.isIdStartChar(t))throw Rr();break}U+=t,K="identifierName"},identifierName(){switch(Z){case"$":case"_":case"‌":case"‍":U+=A();return;case"\\":A(),K="identifierNameEscape";return}if(de.isIdContinueChar(Z)){U+=A();return}return se("identifier",U)},identifierNameEscape(){if(Z!=="u")throw ae(A());A();const t=ar();switch(t){case"$":case"_":case"‌":case"‍":break;default:if(!de.isIdContinueChar(t))throw Rr();break}U+=t,K="identifierName"},sign(){switch(Z){case".":U=A(),K="decimalPointLeading";return;case"0":U=A(),K="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":U=A(),K="decimalInteger";return;case"I":return A(),Ye("nfinity"),se("numeric",Te*(1/0));case"N":return A(),Ye("aN"),se("numeric",NaN)}throw ae(A())},zero(){switch(Z){case".":U+=A(),K="decimalPoint";return;case"e":case"E":U+=A(),K="decimalExponent";return;case"x":case"X":U+=A(),K="hexadecimal";return}return se("numeric",Te*0)},decimalInteger(){switch(Z){case".":U+=A(),K="decimalPoint";return;case"e":case"E":U+=A(),K="decimalExponent";return}if(de.isDigit(Z)){U+=A();return}return se("numeric",Te*Number(U))},decimalPointLeading(){if(de.isDigit(Z)){U+=A(),K="decimalFraction";return}throw ae(A())},decimalPoint(){switch(Z){case"e":case"E":U+=A(),K="decimalExponent";return}if(de.isDigit(Z)){U+=A(),K="decimalFraction";return}return se("numeric",Te*Number(U))},decimalFraction(){switch(Z){case"e":case"E":U+=A(),K="decimalExponent";return}if(de.isDigit(Z)){U+=A();return}return se("numeric",Te*Number(U))},decimalExponent(){switch(Z){case"+":case"-":U+=A(),K="decimalExponentSign";return}if(de.isDigit(Z)){U+=A(),K="decimalExponentInteger";return}throw ae(A())},decimalExponentSign(){if(de.isDigit(Z)){U+=A(),K="decimalExponentInteger";return}throw ae(A())},decimalExponentInteger(){if(de.isDigit(Z)){U+=A();return}return se("numeric",Te*Number(U))},hexadecimal(){if(de.isHexDigit(Z)){U+=A(),K="hexadecimalInteger";return}throw ae(A())},hexadecimalInteger(){if(de.isHexDigit(Z)){U+=A();return}return se("numeric",Te*Number(U))},string(){switch(Z){case"\\":A(),U+=Ui();return;case'"':if(Rt)return A(),se("string",U);U+=A();return;case"'":if(!Rt)return A(),se("string",U);U+=A();return;case`
`:case"\r":throw ae(A());case"\u2028":case"\u2029":Ki(Z);break;case void 0:throw ae(A())}U+=A()},start(){switch(Z){case"{":case"[":return se("punctuator",A())}K="value"},beforePropertyName(){switch(Z){case"$":case"_":U=A(),K="identifierName";return;case"\\":A(),K="identifierNameStartEscape";return;case"}":return se("punctuator",A());case'"':case"'":Rt=A()==='"',K="string";return}if(de.isIdStartChar(Z)){U+=A(),K="identifierName";return}throw ae(A())},afterPropertyName(){if(Z===":")return se("punctuator",A());throw ae(A())},beforePropertyValue(){K="value"},afterPropertyValue(){switch(Z){case",":case"}":return se("punctuator",A())}throw ae(A())},beforeArrayValue(){if(Z==="]")return se("punctuator",A());K="value"},afterArrayValue(){switch(Z){case",":case"]":return se("punctuator",A())}throw ae(A())},end(){throw ae(A())}};function se(t,e){return{type:t,value:e,line:He,column:ze}}function Ye(t){for(const e of t){if(qe()!==e)throw ae(A());A()}}function Ui(){switch(qe()){case"b":return A(),"\b";case"f":return A(),"\f";case"n":return A(),`
`;case"r":return A(),"\r";case"t":return A(),"	";case"v":return A(),"\v";case"0":if(A(),de.isDigit(qe()))throw ae(A());return"\0";case"x":return A(),Hi();case"u":return A(),ar();case`
`:case"\u2028":case"\u2029":return A(),"";case"\r":return A(),qe()===`
`&&A(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw ae(A());case void 0:throw ae(A())}return A()}function Hi(){let t="",e=qe();if(!de.isHexDigit(e)||(t+=A(),e=qe(),!de.isHexDigit(e)))throw ae(A());return t+=A(),String.fromCodePoint(parseInt(t,16))}function ar(){let t="",e=4;for(;e-- >0;){const u=qe();if(!de.isHexDigit(u))throw ae(A());t+=A()}return String.fromCodePoint(parseInt(t,16))}const Wi={start(){if(pe.type==="eof")throw Xe();Yu()},beforePropertyName(){switch(pe.type){case"identifier":case"string":Dr=pe.value,Fe="afterPropertyName";return;case"punctuator":fu();return;case"eof":throw Xe()}},afterPropertyName(){if(pe.type==="eof")throw Xe();Fe="beforePropertyValue"},beforePropertyValue(){if(pe.type==="eof")throw Xe();Yu()},beforeArrayValue(){if(pe.type==="eof")throw Xe();if(pe.type==="punctuator"&&pe.value==="]"){fu();return}Yu()},afterPropertyValue(){if(pe.type==="eof")throw Xe();switch(pe.value){case",":Fe="beforePropertyName";return;case"}":fu()}},afterArrayValue(){if(pe.type==="eof")throw Xe();switch(pe.value){case",":Fe="beforeArrayValue";return;case"]":fu()}},end(){}};function Yu(){let t;switch(pe.type){case"punctuator":switch(pe.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=pe.value;break}if(zt===void 0)zt=t;else{const e=Me[Me.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,Dr,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")Me.push(t),Array.isArray(t)?Fe="beforeArrayValue":Fe="beforePropertyName";else{const e=Me[Me.length-1];e==null?Fe="end":Array.isArray(e)?Fe="afterArrayValue":Fe="afterPropertyValue"}}function fu(){Me.pop();const t=Me[Me.length-1];t==null?Fe="end":Array.isArray(t)?Fe="afterArrayValue":Fe="afterPropertyValue"}function ae(t){return Au(t===void 0?`JSON5: invalid end of input at ${He}:${ze}`:`JSON5: invalid character '${sn(t)}' at ${He}:${ze}`)}function Xe(){return Au(`JSON5: invalid end of input at ${He}:${ze}`)}function Rr(){return ze-=5,Au(`JSON5: invalid identifier character at ${He}:${ze}`)}function Ki(t){console.warn(`JSON5: '${sn(t)}' in strings is not valid ECMAScript; consider escaping`)}function sn(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const u=t.charCodeAt(0).toString(16);return"\\x"+("00"+u).substring(u.length)}return t}function Au(t){const e=new SyntaxError(t);return e.lineNumber=He,e.columnNumber=ze,e}var Yi=function(e,u,r){const l=[];let n="",o,i,s="",d;if(u!=null&&typeof u=="object"&&!Array.isArray(u)&&(r=u.space,d=u.quote,u=u.replacer),typeof u=="function")i=u;else if(Array.isArray(u)){o=[];for(const c of u){let m;typeof c=="string"?m=c:(typeof c=="number"||c instanceof String||c instanceof Number)&&(m=String(c)),m!==void 0&&o.indexOf(m)<0&&o.push(m)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),s="          ".substr(0,r)):typeof r=="string"&&(s=r.substr(0,10)),C("",{"":e});function C(c,m){let h=m[c];switch(h!=null&&(typeof h.toJSON5=="function"?h=h.toJSON5(c):typeof h.toJSON=="function"&&(h=h.toJSON(c))),i&&(h=i.call(m,c,h)),h instanceof Number?h=Number(h):h instanceof String?h=String(h):h instanceof Boolean&&(h=h.valueOf()),h){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof h=="string")return D(h);if(typeof h=="number")return String(h);if(typeof h=="object")return Array.isArray(h)?y(h):B(h)}function D(c){const m={"'":.1,'"':.2},h={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let b="";for(let w=0;w<c.length;w++){const E=c[w];switch(E){case"'":case'"':m[E]++,b+=E;continue;case"\0":if(de.isDigit(c[w+1])){b+="\\x00";continue}}if(h[E]){b+=h[E];continue}if(E<" "){let P=E.charCodeAt(0).toString(16);b+="\\x"+("00"+P).substring(P.length);continue}b+=E}const R=d||Object.keys(m).reduce((w,E)=>m[w]<m[E]?w:E);return b=b.replace(new RegExp(R,"g"),h[R]),R+b+R}function B(c){if(l.indexOf(c)>=0)throw TypeError("Converting circular structure to JSON5");l.push(c);let m=n;n=n+s;let h=o||Object.keys(c),b=[];for(const w of h){const E=C(w,c);if(E!==void 0){let P=F(w)+":";s!==""&&(P+=" "),P+=E,b.push(P)}}let R;if(b.length===0)R="{}";else{let w;if(s==="")w=b.join(","),R="{"+w+"}";else{let E=`,
`+n;w=b.join(E),R=`{
`+n+w+`,
`+m+"}"}}return l.pop(),n=m,R}function F(c){if(c.length===0)return D(c);const m=String.fromCodePoint(c.codePointAt(0));if(!de.isIdStartChar(m))return D(c);for(let h=m.length;h<c.length;h++)if(!de.isIdContinueChar(String.fromCodePoint(c.codePointAt(h))))return D(c);return c}function y(c){if(l.indexOf(c)>=0)throw TypeError("Converting circular structure to JSON5");l.push(c);let m=n;n=n+s;let h=[];for(let R=0;R<c.length;R++){const w=C(String(R),c);h.push(w!==void 0?w:"null")}let b;if(h.length===0)b="[]";else if(s==="")b="["+h.join(",")+"]";else{let R=`,
`+n,w=h.join(R);b=`[
`+n+w+`,
`+m+"]"}return l.pop(),n=m,b}};const Xi={parse:Ji,stringify:Yi};var Gi=Xi,Ge={},Se={},zr;function gu(){return zr||(zr=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.excelBOM=Se.defaultCsv2JsonOptions=Se.defaultJson2CsvOptions=Se.errors=void 0,Se.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}},Se.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1,fieldTitleMap:Object.create({})},Se.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1},Se.excelBOM="\uFEFF"),Se}var we={},Ze={};var Pr;function fr(){if(Pr)return Ze;Pr=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.setPath=Ze.evaluatePath=void 0;function t(n,o){if(!n)return null;const{dotIndex:i,key:s,remaining:d}=r(o),C=typeof n=="object"&&o in n?n[o]:void 0,D=typeof n=="object"&&s in n?n[s]:void 0;if(i>=0&&typeof n=="object"&&!(o in n)){const{key:B}=r(d),F=parseInt(B);return Array.isArray(D)&&isNaN(F)?D.map(y=>t(y,d)):t(D,d)}else if(Array.isArray(n)){const B=parseInt(s);return o===s&&i===-1&&!isNaN(B)?D:n.map(F=>t(F,o))}else{if(i>=0&&o!==s&&typeof n=="object"&&s in n)return t(D,d);if(i===-1&&typeof n=="object"&&s in n&&!(o in n))return D}return C}Ze.evaluatePath=t;function e(n,o,i){if(n){if(!o)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return u(n,o,i)}Ze.setPath=e;function u(n,o,i){const{dotIndex:s,key:d,remaining:C}=r(o);if(o.startsWith("__proto__")||o.startsWith("constructor")||o.startsWith("prototype"))return n;if(s>=0){const D=parseInt(d);if(typeof n=="object"&&n!==null&&!(d in n)&&Array.isArray(n)&&!isNaN(D))return n[d]=n[d]??{},u(n[d],C,i),n;if(typeof n=="object"&&n!==null&&!(d in n)&&Array.isArray(n))return n.forEach(B=>u(B,o,i)),n;if(typeof n=="object"&&n!==null&&!(d in n)&&!Array.isArray(n)){const{key:B}=r(C),F=parseInt(B);if(!isNaN(F))n[d]=[];else{if(C==="")return n[o]=i,n;n[d]={}}}u(n[d],C,i)}else if(Array.isArray(n)){const D=parseInt(d);return o===d&&s===-1&&!isNaN(D)?(n[d]=i,n):(n.forEach(B=>u(B,C,i)),n)}else n[d]=i;return n}function r(n){const o=l(n);return{dotIndex:o,key:n.slice(0,o>=0?o:void 0).replace(/\\./g,"."),remaining:n.slice(o+1)}}function l(n){for(let o=0;o<n.length;o++){const i=o>0?n[o-1]:"";if(n[o]==="."&&i!=="\\")return o}return-1}return Ze}var je={},Le={},Or;function Zi(){if(Or)return Le;Or=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.isDocumentToRecurOn=Le.flatten=Le.unique=void 0;function t(r){return[...new Set(r)]}Le.unique=t;function e(r){return[].concat(...r)}Le.flatten=e;function u(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&Object.keys(r).length}return Le.isDocumentToRecurOn=u,Le}var Xu={},Ir;function es(){return Ir||(Ir=1,Object.defineProperty(Xu,"__esModule",{value:!0})),Xu}var Nr;function ts(){return Nr||(Nr=1,(function(t){var e=je&&je.__createBinding||(Object.create?(function(F,y,c,m){m===void 0&&(m=c);var h=Object.getOwnPropertyDescriptor(y,c);(!h||("get"in h?!y.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return y[c]}}),Object.defineProperty(F,m,h)}):(function(F,y,c,m){m===void 0&&(m=c),F[m]=y[c]})),u=je&&je.__setModuleDefault||(Object.create?(function(F,y){Object.defineProperty(F,"default",{enumerable:!0,value:y})}):function(F,y){F.default=y}),r=je&&je.__importStar||function(F){if(F&&F.__esModule)return F;var y={};if(F!=null)for(var c in F)c!=="default"&&Object.prototype.hasOwnProperty.call(F,c)&&e(y,F,c);return u(y,F),y},l=je&&je.__exportStar||function(F,y){for(var c in F)c!=="default"&&!Object.prototype.hasOwnProperty.call(y,c)&&e(y,F,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.deepKeysFromList=t.deepKeys=void 0;const n=r(Zi());l(es(),t);function o(F,y){const c=B(y);return typeof F=="object"&&F!==null?s("",F,c):[]}t.deepKeys=o;function i(F,y){const c=B(y);return F.map(m=>typeof m=="object"&&m!==null?o(m,c):[])}t.deepKeysFromList=i;function s(F,y,c){const m=Object.keys(y).map(h=>{const b=D(F,C(h,c));return c.expandNestedObjects&&n.isDocumentToRecurOn(y[h])||c.arrayIndexesAsKeys&&Array.isArray(y[h])&&y[h].length?s(b,y[h],c):c.expandArrayObjects&&Array.isArray(y[h])?d(y[h],b,c):c.ignoreEmptyArrays&&Array.isArray(y[h])&&!y[h].length?[]:b});return n.flatten(m)}function d(F,y,c){let m=i(F,c);return F.length?F.length&&n.flatten(m).length===0?[y]:(m=m.map(h=>Array.isArray(h)&&h.length===0?[y]:h.map(b=>D(y,C(b,c)))),n.unique(n.flatten(m))):c.ignoreEmptyArraysWhenExpanding?[]:[y]}function C(F,y){return y.escapeNestedDots?F.replace(/\./g,"\\."):F}function D(F,y){return F?F+"."+y:y}function B(F){return{arrayIndexesAsKeys:!1,expandNestedObjects:!0,expandArrayObjects:!1,ignoreEmptyArraysWhenExpanding:!1,escapeNestedDots:!1,ignoreEmptyArrays:!1,...F??{}}}})(je)),je}var J={},kr;function pr(){if(kr)return J;kr=1,Object.defineProperty(J,"__esModule",{value:!0}),J.isInvalid=J.flatten=J.unique=J.arrayDifference=J.isError=J.isUndefined=J.isNull=J.isObject=J.isString=J.isNumber=J.unwind=J.getNCharacters=J.removeEmptyFields=J.isEmptyField=J.computeSchemaDifferences=J.isDateRepresentation=J.isStringRepresentation=J.deepCopy=J.validate=J.buildC2JOptions=J.buildJ2COptions=void 0;const t=fr(),e=gu(),u=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,r=1e5;function l(p){return{...e.defaultJson2CsvOptions,...p,delimiter:{field:p?.delimiter?.field??e.defaultJson2CsvOptions.delimiter.field,wrap:p?.delimiter?.wrap||e.defaultJson2CsvOptions.delimiter.wrap,eol:p?.delimiter?.eol||e.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:p?.fieldTitleMap||Object.create({})}}J.buildJ2COptions=l;function n(p){return{...e.defaultCsv2JsonOptions,...p,delimiter:{field:p?.delimiter?.field??e.defaultCsv2JsonOptions.delimiter.field,wrap:p?.delimiter?.wrap||e.defaultCsv2JsonOptions.delimiter.wrap,eol:p?.delimiter?.eol||e.defaultCsv2JsonOptions.delimiter.eol}}}J.buildC2JOptions=n;function o(p,x,S){if(!p)throw new Error(`${S.cannotCallOn} ${p}.`);if(!x(p))throw new Error(S.dataCheckFailure);return!0}J.validate=o;function i(p){return JSON.parse(JSON.stringify(p))}J.deepCopy=i;function s(p,x){const S=p[0],v=p.length-1,I=p[v];return S===x.delimiter.wrap&&I===x.delimiter.wrap}J.isStringRepresentation=s;function d(p){return u.test(p)}J.isDateRepresentation=d;function C(p,x){return P(p,x).concat(P(x,p))}J.computeSchemaDifferences=C;function D(p){return w(p)||R(p)||p===""}J.isEmptyField=D;function B(p){return p.filter(x=>!D(x))}J.removeEmptyFields=B;function F(p,x,S){return p.substring(x,x+S)}J.getNCharacters=F;function y(p,x,S){const v=(0,t.evaluatePath)(x,S);let I=i(x);Array.isArray(v)&&v.length?v.forEach(Y=>{I=i(x),p.push((0,t.setPath)(I,S,Y))}):(Array.isArray(v)&&v.length===0&&(0,t.setPath)(I,S,""),p.push(I))}function c(p,x){const S=[];return p.forEach(v=>{y(S,v,x)}),S}J.unwind=c;function m(p){return!isNaN(Number(p))}J.isNumber=m;function h(p){return typeof p=="string"}J.isString=h;function b(p){return typeof p=="object"}J.isObject=b;function R(p){return p===null}J.isNull=R;function w(p){return typeof p>"u"}J.isUndefined=w;function E(p){return Object.prototype.toString.call(p)==="[object Error]"}J.isError=E;function P(p,x){return p.filter(S=>!x.includes(S))}J.arrayDifference=P;function T(p){return[...new Set(p)]}J.unique=T;function H(p){if(p.flat)return p.flat();if(p.length>r){let x=[];for(let S=0;S<p.length;S+=r)x=x.concat(...p.slice(S,S+r));return x}return p.reduce((x,S)=>x.concat(S),[])}J.flatten=H;function g(p){return p===1/0||p===-1/0}return J.isInvalid=g,J}var $r;function us(){if($r)return we;$r=1;var t=we&&we.__createBinding||(Object.create?(function(s,d,C,D){D===void 0&&(D=C);var B=Object.getOwnPropertyDescriptor(d,C);(!B||("get"in B?!d.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return d[C]}}),Object.defineProperty(s,D,B)}):(function(s,d,C,D){D===void 0&&(D=C),s[D]=d[C]})),e=we&&we.__setModuleDefault||(Object.create?(function(s,d){Object.defineProperty(s,"default",{enumerable:!0,value:d})}):function(s,d){s.default=d}),u=we&&we.__importStar||function(s){if(s&&s.__esModule)return s;var d={};if(s!=null)for(var C in s)C!=="default"&&Object.prototype.hasOwnProperty.call(s,C)&&t(d,s,C);return e(d,s),d};Object.defineProperty(we,"__esModule",{value:!0}),we.Json2Csv=void 0;const r=fr(),l=ts(),n=gu(),o=u(pr()),i=function(s){const d=new RegExp(s.delimiter.wrap,"g"),C=/\r?\n|\r/,D=s.parseValue&&typeof s.parseValue=="function"?s.parseValue:null,B=s.expandArrayObjects&&!s.unwindArrays,F={arrayIndexesAsKeys:s.arrayIndexesAsKeys,expandNestedObjects:s.expandNestedObjects,expandArrayObjects:B,ignoreEmptyArraysWhenExpanding:B,escapeNestedDots:!0};function y(f){return(0,l.deepKeysFromList)(f,F)}function c(f){return f.length===0?[]:s.checkSchemaDifferences?m(f):o.unique(o.flatten(f))}function m(f){const j=f[0],N=f.slice(1);if(h(j,N))throw new Error(n.errors.json2csv.notSameSchema);return j}function h(f,j){return j.reduce((N,$)=>o.computeSchemaDifferences(f,$).length>0?N+1:N,0)}function b(f){return s.excludeKeys?f.filter(j=>{for(const N of s.excludeKeys){const $=N instanceof RegExp?N:new RegExp(`^${N}`);if(N===j||j.match($))return!1}return!0}):f}function R(f){return s.sortHeader&&typeof s.sortHeader=="function"?f.sort(s.sortHeader):s.sortHeader?f.sort():f}function w(f){return s.trimHeaderFields&&(f.headerFields=f.headerFields.map(j=>j.split(".").map(N=>N.trim()).join("."))),f}function E(f){return s.prependHeader&&(f.headerFields=f.headerFields.map(function(j){return re(j)})),f}function P(f){const j=Object.keys(s.fieldTitleMap);return f.header=f.headerFields.map(function(N){let $=N;return j.includes(N)?$=s.fieldTitleMap[N]:s.escapeHeaderNestedDots||($=$.replace(/\\\./g,".")),$}).join(s.delimiter.field),f}function T(){return s.keys?s.keys.map(f=>typeof f=="object"&&"field"in f?(s.fieldTitleMap[f.field]=f.title??f.field,f.field):f):[]}function H(){return s.keys?s.keys.flatMap(f=>typeof f=="string"?[]:f?.wildcardMatch?f.field:[]):[]}function g(f){const j=H(),N=T(),$=y(f),Q=c($);if(s.keys){s.keys=N;const V=N.flatMap(q=>{if(!j.includes(q))return q;const fe=[],he=new RegExp(`^${q}`);for(const ie of Q)(q===ie||ie.match(he))&&fe.push(ie);return fe});if(!s.unwindArrays){const q=b(V);return R(q)}}const ee=b(Q);return R(ee)}function p(f){for(const j of f.records)for(const N of f.headerFields){const $=(0,r.evaluatePath)(j,N);if(Array.isArray($))return!0}return!1}function x(f,j=!1){if(s.unwindArrays){if(f.headerFields.forEach(N=>{f.records=o.unwind(f.records,N)}),f.headerFields=g(f.records),p(f))return x(f,j);if(!j)return x(f,!0);if(s.keys){const N=T();f.headerFields=b(N)}return f}return f}function S(f){return f.recordString=f.records.map(j=>{const N=I(j,f.headerFields),$=N.map(Q=>{Q=X(Q),Q=M(Q);let ee=D?D(Q,Y):Y(Q);return ee=re(ee),ee});return z($)}).join(s.delimiter.eol),f}function v(f){const j=o.removeEmptyFields(f);return!f.length||!j.length?s.emptyFieldValue||"":j.length===1?j[0]:f}function I(f,j){const N=[];return j.forEach($=>{let Q=(0,r.evaluatePath)(f,$);!o.isUndefined(s.emptyFieldValue)&&o.isEmptyField(Q)?Q=s.emptyFieldValue:s.expandArrayObjects&&Array.isArray(Q)&&(Q=v(Q)),N.push(Q)}),N}function Y(f){const j=f instanceof Date;return f===null||Array.isArray(f)||typeof f=="object"&&!j?JSON.stringify(f):typeof f>"u"?"undefined":j&&s.useDateIso8601Format?f.toISOString():s.useLocaleFormat?f.toLocaleString():f.toString()}function X(f){return s.trimFieldValues?Array.isArray(f)?f.map(X):typeof f=="string"?f.trim():f:f}function M(f){return s.preventCsvInjection?Array.isArray(f)?f.map(M):typeof f=="string"&&!o.isNumber(f)?f.replace(/^[=+\-@\t\r]+/g,""):f:f}function re(f){const j=s.delimiter.wrap;return f.includes(s.delimiter.wrap)&&(f=f.replace(d,j+j)),(f.includes(s.delimiter.field)||f.includes(s.delimiter.wrap)||f.match(C)||s.wrapBooleans&&(f==="true"||f==="false"))&&(f=j+f+j),f}function z(f){return f.join(s.delimiter.field)}function W(f){const j=f.header,N=f.recordString;return(s.excelBOM?n.excelBOM:"")+(s.prependHeader?j+s.delimiter.eol:"")+N}function oe(f){Array.isArray(f)||(f=[f]);const j={headerFields:g(f),records:f,header:"",recordString:""},N=x(j),$=S(N),Q=E($),ee=w(Q),V=P(ee);return W(V)}return{convert:oe}};return we.Json2Csv=i,we}var _e={},Lr;function rs(){if(Lr)return _e;Lr=1;var t=_e&&_e.__createBinding||(Object.create?(function(i,s,d,C){C===void 0&&(C=d);var D=Object.getOwnPropertyDescriptor(s,d);(!D||("get"in D?!s.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(i,C,D)}):(function(i,s,d,C){C===void 0&&(C=d),i[C]=s[d]})),e=_e&&_e.__setModuleDefault||(Object.create?(function(i,s){Object.defineProperty(i,"default",{enumerable:!0,value:s})}):function(i,s){i.default=s}),u=_e&&_e.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var d in i)d!=="default"&&Object.prototype.hasOwnProperty.call(i,d)&&t(s,i,d);return e(s,i),s};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Csv2Json=void 0;const r=fr(),l=gu(),n=u(pr()),o=function(i){const s=new RegExp(i.delimiter.wrap+i.delimiter.wrap,"g"),d=new RegExp("^"+l.excelBOM),C=i.parseValue&&typeof i.parseValue=="function"?i.parseValue:JSON.parse;function D(g){return g=w(g),i.trimHeaderFields?g.split(".").map(p=>p.trim()).join("."):g}function B(g){let p=[];if(i.headerFields)p=i.headerFields.map((x,S)=>({value:D(x),index:S}));else if(p=g[0].map((S,v)=>({value:D(S),index:v})),i.keys){const S=i.keys;p=p.filter(v=>S.includes(v.value))}return{lines:g,headerFields:p,recordLines:[]}}function F(g){return i.excelBOM?g.replace(d,""):g}function y(g){const p=[],x=g.length-1,S=i.delimiter.eol.length,v={insideWrapDelimiter:!1,parsingValue:!0,justParsedDoubleQuote:!1,startIndex:0};let I=[],Y,X,M,re,z=0;for(;z<g.length;){if(Y=g[z],X=z?g[z-1]:"",M=z<x?g[z+1]:"",re=n.getNCharacters(g,z,S),(re===i.delimiter.eol&&!v.insideWrapDelimiter||z===x)&&X===i.delimiter.field)re===i.delimiter.eol&&v.startIndex===z||Y===i.delimiter.field?I.push(""):I.push(g.substring(v.startIndex)),I.push(""),p.push(I),I=[],v.startIndex=z+S,v.parsingValue=!0,v.insideWrapDelimiter=M===i.delimiter.wrap;else if(z===x&&Y===i.delimiter.field){const W=g.substring(v.startIndex,z);I.push(W),I.push(""),p.push(I)}else if(z===x||re===i.delimiter.eol&&(!v.insideWrapDelimiter||v.insideWrapDelimiter&&X===i.delimiter.wrap&&!v.justParsedDoubleQuote)){const W=z!==x||X===i.delimiter.wrap?z:void 0;I.push(g.substring(v.startIndex,W)),p.push(I),I=[],v.startIndex=z+S,v.parsingValue=!0,v.insideWrapDelimiter=M===i.delimiter.wrap}else if(Y===i.delimiter.wrap&&X===i.delimiter.field&&!v.insideWrapDelimiter&&!v.parsingValue)v.startIndex=z,v.insideWrapDelimiter=!0,v.parsingValue=!0,n.getNCharacters(g,z+1,S)===i.delimiter.eol&&(z+=i.delimiter.eol.length+1);else if(X===i.delimiter.field&&Y===i.delimiter.wrap&&M===i.delimiter.eol)I.push(g.substring(v.startIndex,z-1)),v.startIndex=z,v.parsingValue=!0,v.insideWrapDelimiter=!0,v.justParsedDoubleQuote=!0,z+=1;else if((X!==i.delimiter.wrap||v.justParsedDoubleQuote&&X===i.delimiter.wrap)&&Y===i.delimiter.wrap&&n.getNCharacters(g,z+1,S)===i.delimiter.eol)v.insideWrapDelimiter=!1,v.parsingValue=!1;else if(Y===i.delimiter.wrap&&(z===0||n.getNCharacters(g,z-S,S)===i.delimiter.eol&&!v.insideWrapDelimiter))v.insideWrapDelimiter=!0,v.parsingValue=!0,v.startIndex=z;else if(Y===i.delimiter.wrap&&M===i.delimiter.field&&v.insideWrapDelimiter)I.push(g.substring(v.startIndex,z+1)),v.startIndex=z+2,v.insideWrapDelimiter=!1,v.parsingValue=!1;else if(Y===i.delimiter.wrap&&X===i.delimiter.field&&!v.insideWrapDelimiter&&v.parsingValue)I.push(g.substring(v.startIndex,z-1)),v.insideWrapDelimiter=!0,v.parsingValue=!0,v.startIndex=z;else if(Y===i.delimiter.wrap&&M===i.delimiter.wrap&&z!==v.startIndex){z+=2,v.justParsedDoubleQuote=!0;continue}else Y===i.delimiter.field&&X!==i.delimiter.wrap&&M!==i.delimiter.wrap&&!v.insideWrapDelimiter&&v.parsingValue?(I.push(g.substring(v.startIndex,z)),v.startIndex=z+1):Y===i.delimiter.field&&X===i.delimiter.wrap&&M!==i.delimiter.wrap&&!v.parsingValue&&(v.insideWrapDelimiter=!1,v.parsingValue=!0,v.startIndex=z+1);z++,v.justParsedDoubleQuote=!1}return p}function c(g){return i.headerFields?g.recordLines=g.lines:g.recordLines=g.lines.splice(1),g}function m(g,p){const x=p[g.index];return h(x)}function h(g){const p=T(g);return!n.isError(p)&&!n.isInvalid(p)?p:g==="undefined"?void 0:g}function b(g){return i.trimFieldValues&&g!==null?g.trim():g}function R(g,p){return g.reduce((x,S)=>{const v=m(S,p);try{return(0,r.setPath)(x,S.value,v)}catch{return x}},{})}function w(g){const p=g[0],x=g.length-1,S=g[x];return p===i.delimiter.wrap&&S===i.delimiter.wrap?g.length<=2?"":g.substring(1,x):g}function E(g){return g.replace(s,i.delimiter.wrap)}function P(g){return g.recordLines.reduce((p,x)=>{x=x.map(v=>(v=w(v),v=E(v),v=b(v),v));const S=R(g.headerFields,x);return p.concat(S)},[])}function T(g){try{if(n.isStringRepresentation(g,i)&&!n.isDateRepresentation(g))return g;const p=C(g);return Array.isArray(p)?p.map(b):p}catch(p){return p}}function H(g){const p=F(g),x=y(p),S=B(x),v=c(S);return P(v)}return{convert:H}};return _e.Csv2Json=o,_e}var Tr;function ns(){if(Tr)return Ge;Tr=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.csv2json=Ge.json2csv=void 0;const t=gu(),e=us(),u=rs(),r=pr();function l(o,i){const s=(0,r.buildJ2COptions)(i??{});return(0,r.validate)(o,r.isObject,t.errors.json2csv),(0,e.Json2Csv)(s).convert(o)}Ge.json2csv=l;function n(o,i){const s=(0,r.buildC2JOptions)(i??{});return(0,r.validate)(o,r.isString,t.errors.csv2json),(0,u.Csv2Json)(s).convert(o)}return Ge.csv2json=n,Ge}var is=ns(),Gu,Mr;function ss(){if(Mr)return Gu;Mr=1;class t{constructor(u={}){if(!(u.maxSize&&u.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=u.maxSize,this.onEviction=u.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(u,r){if(this.cache.set(u,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(const[l,n]of this.oldCache.entries())this.onEviction(l,n);this.oldCache=this.cache,this.cache=new Map}}get(u){if(this.cache.has(u))return this.cache.get(u);if(this.oldCache.has(u)){const r=this.oldCache.get(u);return this.oldCache.delete(u),this._set(u,r),r}}set(u,r){return this.cache.has(u)?this.cache.set(u,r):this._set(u,r),this}has(u){return this.cache.has(u)||this.oldCache.has(u)}peek(u){if(this.cache.has(u))return this.cache.get(u);if(this.oldCache.has(u))return this.oldCache.get(u)}delete(u){const r=this.cache.delete(u);return r&&this._size--,this.oldCache.delete(u)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[u]of this)yield u}*values(){for(const[,u]of this)yield u}*[Symbol.iterator](){for(const u of this.cache)yield u;for(const u of this.oldCache){const[r]=u;this.cache.has(r)||(yield u)}}get size(){let u=0;for(const r of this.oldCache.keys())this.cache.has(r)||u++;return Math.min(this._size+u,this.maxSize)}}return Gu=t,Gu}var as=ss();const os=vn(as),Pt=["v1","vX","v2021-03-25","v2021-10-21","v2022-03-07","v2025-02-19",`v${new Date().toISOString().split("T")[0]}`],[an]=Pt.slice(-1);function on(t){const e=le.c(5),[u,r]=O.useState(!1);let l,n;e[0]!==t.delay?(l=()=>{const i=setTimeout(()=>r(!0),t.delay||500);return()=>clearTimeout(i)},n=[t.delay],e[0]=t.delay,e[1]=l,e[2]=n):(l=e[1],n=e[2]),O.useEffect(l,n);let o;return e[3]!==u?(o=u?a.jsx(wn,{muted:!0,size:4}):null,e[3]=u,e[4]=o):o=e[4],o}const ls=[[Si],li(),ci(),di(),Di(),fi(),pi(),hi(),Ci(),mi(),Fi(),tn(Ai,{fallback:!0}),Ei.of([{key:"Mod-Enter",run:()=>!0},gi,yi].flat().filter(Boolean))];function cs(t){const e=le.c(7);let u;e[0]!==t?(u=ds(t),e[0]=t,e[1]=u):u=e[1];const r=u;let l;e[2]!==t?(l=tn(Ds(t)),e[2]=t,e[3]=l):l=e[3];const n=l;let o;return e[4]!==n||e[5]!==r?(o=[r,n],e[4]=n,e[5]=r,e[6]=o):o=e[6],o}function ds(t){const{color:e,fonts:u}=t.sanity,r=e.card.enabled,l=yr.blue[e.dark?400:500].hex,n=yr.gray[t.sanity.color.dark?900:100].hex;return Bi.theme({"&":{color:r.fg,backgroundColor:r.bg},".cm-content":{caretColor:l},".cm-editor":{fontFamily:u.code.family,fontSize:Re(u.code.sizes[1].fontSize),lineHeight:"inherit"},".cm-cursor, .cm-dropCursor":{borderLeftColor:l},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:n},".cm-panels":{backgroundColor:r.bg,color:r.fg},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${r.border}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${r.border}`}},{dark:e.dark})}function Ds(t){const e=t.sanity.color.base,u=t.sanity.color.syntax;return bi.define([{tag:L.keyword,color:u.keyword},{tag:[L.propertyName,L.name,L.deleted,L.character,L.macroName],color:u.property},{tag:[L.function(L.variableName),L.labelName],color:u.function},{tag:[L.color,L.constant(L.name),L.standard(L.name)],color:u.variable},{tag:[L.definition(L.name),L.separator],color:u.constant},{tag:[L.typeName,L.className,L.number,L.changed,L.annotation,L.modifier,L.self,L.namespace],color:u.number},{tag:[L.operator,L.operatorKeyword,L.url,L.escape,L.regexp,L.link,L.special(L.string)],color:u.operator},{tag:[L.meta,L.comment],color:u.comment},{tag:L.strong,fontWeight:"bold"},{tag:L.emphasis,fontStyle:"italic"},{tag:L.strikethrough,textDecoration:"line-through"},{tag:L.heading,fontWeight:"bold",color:u.property},{tag:[L.atom,L.bool,L.special(L.variableName)],color:u.boolean},{tag:[L.processingInstruction,L.string,L.inserted],color:u.string},{tag:L.invalid,color:e.fg}])}const fs=ne.div.withConfig({displayName:"EditorRoot",componentId:"sc-1e01cjn-0"})`width:100%;box-sizing:border-box;height:100%;overflow:hidden;overflow:clip;position:relative;display:flex;& .cm-theme{width:100%;}& .cm-editor{height:100%;font-size:16px;line-height:21px;}& .cm-line{padding-left:${({theme:t})=>Re(t.sanity.space[3])};}& .cm-content{border-right-width:${({theme:t})=>Re(t.sanity.space[4])} !important;padding-top:${({theme:t})=>Re(t.sanity.space[5])};}`,hr=O.forwardRef((t,e)=>{const u=le.c(7),[r]=O.useState(t.initialValue),l=Nn(),n=cs(l),o=O.useRef(null);let i;u[0]===Symbol.for("react.memo_cache_sentinel")?(i=B=>{const F=o.current?.view;if(!F)return;const y=F.state.doc.toString();B!==y&&F.dispatch({changes:{from:0,to:y.length,insert:B},selection:xi.cursor(B.length)})},u[0]=i):i=u[0];const s=i;let d,C;u[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>({resetEditorContent:s}),C=[s],u[1]=d,u[2]=C):(d=u[1],C=u[2]),O.useImperativeHandle(e,d,C);let D;return u[3]!==r||u[4]!==t.onChange||u[5]!==n?(D=a.jsx(fs,{children:a.jsx(vi,{ref:o,basicSetup:!1,theme:n,extensions:ls,value:r,onChange:t.onChange})}),u[3]=r,u[4]=t.onChange,u[5]=n,u[6]=D):D=u[6],D});hr.displayName="VisionCodeMirror";const ln=["pinnedRelease","scheduledDrafts","raw","published","drafts"],ps=["pinnedRelease","scheduledDrafts"];function Zu(t){return ln.includes(t)}function Vr(t){return typeof t=="string"&&ps.includes(t)}function qr({selectedPerspectiveName:t}){return typeof t<"u"}function er({visionPerspective:t,perspectiveStack:e,scheduledDraftsStack:u}){return t==="pinnedRelease"?e:t==="scheduledDrafts"?u:t}function tr(t,e={},u={}){const r=new URLSearchParams;r.set("query",t);for(const[l,n]of Object.entries(e))r.set(`$${l}`,JSON.stringify(n));for(const[l,n]of Object.entries(u))n&&r.set(l,`${n}`);return`?${r}`}function hs(t){return!!t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"}const cn=Fs(),dn="sanityVision:";function Cs(){if(cn)for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);e?.startsWith(dn)&&localStorage.removeItem(e)}}function ms(t){const e=`${dn}${t}`;let u=null;return{get:r,set:l,merge:n};function r(s,d){const C=o();return typeof C[s]>"u"?d:C[s]}function l(s,d){const C=o();return C[s]=d,localStorage.setItem(e,JSON.stringify(u)),d}function n(s){const d={...o(),...s};return localStorage.setItem(e,JSON.stringify(d)),d}function o(){return u===null&&(u=i()),u}function i(){if(!cn)return{};try{const s=JSON.parse(localStorage.getItem(e)||"{}");return hs(s)?s:{}}catch{return{}}}}function Fs(){const t="lsCheck";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function As(t){const e={},u={};for(const[r,l]of t.entries()){if(r[0]==="$"){e[r.slice(1)]=JSON.parse(l);continue}if(r==="perspective"){u[r]=l;continue}}return{query:t.get("query")||"",params:e,options:u}}function Es(t){return t[0]!=="v"&&t!=="other"?`v${t}`:t}function ur(t){const e=t.replace(/^v/,"").trim().toUpperCase();return e.length>0&&(e==="X"||e==="1"||/^\d{4}-\d{2}-\d{2}$/.test(e)&&!isNaN(Date.parse(e)))}function gs(t,e){try{const u=t?Gi.parse(t):{};return typeof u=="object"&&u&&!Array.isArray(u)?u:{}}catch(u){return u.message=`${e("params.error.params-invalid-json")}:

${u.message.replace("JSON5:","")}`,u}}const Dn=ne(ge).withConfig({displayName:"Root",componentId:"sc-r315za-0"})`.sidebarPanes .Pane{overflow-y:auto;overflow-x:hidden;}& .Resizer{background:var(--card-border-color);opacity:1;z-index:1;box-sizing:border-box;background-clip:padding-box;border:solid transparent;}& .Resizer:hover{border-color:var(--card-shadow-ambient-color);}& .Resizer.horizontal{height:11px;margin:-5px 0;border-width:5px 0;cursor:row-resize;width:100%;z-index:4;}& .Resizer.vertical{width:11px;margin:0 -5px;border-width:0 5px;cursor:col-resize;z-index:2;}.Resizer.disabled{cursor:not-allowed;}.Resizer.disabled:hover{border-color:transparent;}`;Dn.displayName="Root";const ys=ne(De).withConfig({displayName:"Header",componentId:"sc-r315za-1"})`border-bottom:1px solid var(--card-border-color);`,Ve=ne(Zn).withConfig({displayName:"StyledLabel",componentId:"sc-r315za-2"})`flex:1;`,vs=ne(ue).withConfig({displayName:"SplitpaneContainer",componentId:"sc-r315za-3"})`position:relative;`,xs=ne.a.withConfig({displayName:"QueryCopyLink",componentId:"sc-r315za-4"})`cursor:pointer;margin-right:auto;`,fn=ne(ue).withConfig({displayName:"InputBackgroundContainer",componentId:"sc-r315za-5"})`position:absolute;top:1rem;left:0;padding:0;margin:0;z-index:10;right:0;${Ve}{user-select:none;}`,pn=ne(fn).withConfig({displayName:"InputBackgroundContainerLeft",componentId:"sc-r315za-6"})`left:33px;`,Jr=ne(De).withConfig({displayName:"InputContainer",componentId:"sc-r315za-7"})`width:100%;height:100%;position:relative;flex-direction:column;`,Bs=ne(ge).withConfig({displayName:"ResultOuterContainer",componentId:"sc-r315za-8"})`height:100%;`,bs=ne(ue).withConfig({displayName:"ResultInnerContainer",componentId:"sc-r315za-9"})`position:relative;`,Ss=ne(De).withConfig({displayName:"ResultContainer",componentId:"sc-r315za-10"})`height:100%;width:100%;position:absolute;max-width:100%;${({$isInvalid:t})=>t&&Xr`
      &:after {
        background-color: var(--card-bg-color);
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        width: 100%;
      }
    `}`,ws=ne(ue).withConfig({displayName:"Result",componentId:"sc-r315za-11"})`position:relative;width:100%;height:100%;z-index:20;`,js=ne(ge).withConfig({displayName:"ResultFooter",componentId:"sc-r315za-12"})`border-top:1px solid var(--card-border-color);`,_s=ne(De).withConfig({displayName:"TimingsCard",componentId:"sc-r315za-13"})`position:relative;`;ne(ue).withConfig({displayName:"TimingsContainer",componentId:"sc-r315za-14"})`width:100%;height:100%;`;const Rs=ne(ge).withConfig({displayName:"TimingsTextContainer",componentId:"sc-r315za-15"})`height:100%;min-height:${({theme:t})=>Re(t.sanity.space[3]*2+t.sanity.fonts.text.sizes[2].lineHeight-t.sanity.fonts.text.sizes[2].ascenderHeight-t.sanity.fonts.text.sizes[2].descenderHeight)};`,zs=ne(De).withConfig({displayName:"DownloadsCard",componentId:"sc-r315za-16"})`position:relative;`,Ps=ne(ye).withConfig({displayName:"SaveResultLabel",componentId:"sc-r315za-17"})`transform:initial;&:before,&:after{content:none;}> span{display:flex !important;gap:${({theme:t})=>Re(t.sanity.space[3])};align-items:center;}`,Os=ne(ue).withConfig({displayName:"ControlsContainer",componentId:"sc-r315za-18"})`border-top:1px solid var(--card-border-color);`,Is=`{
  
}`;function Ns(t){const e=le.c(21),{onChange:u,paramsError:r,hasValidParams:l,editorRef:n}=t,{t:o}=Je(Qe);let i;e[0]!==u?(i=R=>{u(R)},e[0]=u,e[1]=i):i=e[1];const s=i;let d;e[2]!==s?(d=In(s,333),e[2]=s,e[3]=d):d=e[3];const C=d,D=l?"default":"critical";let B;e[4]!==o?(B=o("params.label"),e[4]=o,e[5]=B):B=e[5];let F;e[6]!==B?(F=a.jsx(Ve,{muted:!0,children:B}),e[6]=B,e[7]=F):F=e[7];let y;e[8]!==r?(y=r&&a.jsx(Ot,{animate:!0,placement:"top",portal:!0,content:a.jsx(ye,{size:1,children:r}),children:a.jsx(ue,{padding:1,marginX:2,children:a.jsx(ye,{children:a.jsx(kn,{})})})}),e[8]=r,e[9]=y):y=e[9];let c;e[10]!==F||e[11]!==y?(c=a.jsx(pn,{children:a.jsxs(ge,{children:[F,y]})}),e[10]=F,e[11]=y,e[12]=c):c=e[12];const m=t.value||Is;let h;e[13]!==n||e[14]!==C||e[15]!==m?(h=a.jsx(hr,{ref:n,initialValue:m,onChange:C}),e[13]=n,e[14]=C,e[15]=m,e[16]=h):h=e[16];let b;return e[17]!==D||e[18]!==c||e[19]!==h?(b=a.jsxs(De,{flex:1,tone:D,"data-testid":"params-editor",children:[c,h]}),e[17]=D,e[18]=c,e[19]=h,e[20]=b):b=e[20],b}function Qr(t,e){const u=gs(t,e),r=u instanceof Error?{}:u,l=u instanceof Error?u.message:void 0;return{parsed:r,raw:t,valid:!l,error:l}}const ks="studio.vision-tool.saved-queries",or={queries:[]},pu=ks;function $s(){const t=le.c(27),e=Xn(),[u,r]=O.useState(or),[l,n]=O.useState(!1);let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],t[0]=o):o=t[0];const[i,s]=O.useState(o),[d,C]=O.useState(),[D,B]=O.useState(),[F,y]=O.useState();let c;t[1]!==e?(c=e.getKey(pu),t[1]=e,t[2]=c):c=t[2];const m=c;let h;t[3]!==m?(h=()=>{const p=m.pipe(ei(or),Wr(Ls)).subscribe({next:r,error:x=>y(x)});return()=>p?.unsubscribe()},t[3]=m,t[4]=h):h=t[4];let b;t[5]!==e||t[6]!==m?(b=[m,e],t[5]=e,t[6]=m,t[7]=b):b=t[7],O.useEffect(h,b);let R;t[8]!==e||t[9]!==u.queries?(R=async p=>{n(!0),C(void 0);try{const x=[{...p,_key:ti()},...u.queries];r({queries:x}),await e.setKey(pu,{queries:x})}catch(x){C(x)}n(!1)},t[8]=e,t[9]=u.queries,t[10]=R):R=t[10];const w=R;let E;t[11]!==e||t[12]!==u.queries?(E=async p=>{n(!0),C(void 0);try{const x=u.queries.map(S=>S._key===p._key?{...S,...p}:S);r({queries:x}),await e.setKey(pu,{queries:x})}catch(x){C(x)}n(!1)},t[11]=e,t[12]=u.queries,t[13]=E):E=t[13];const P=E;let T;t[14]!==e||t[15]!==u.queries?(T=async p=>{s(x=>[...x,p]),B(void 0);try{const x=u.queries.filter(S=>S._key!==p);r({queries:x}),await e.setKey(pu,{queries:x})}catch(x){B(x)}s(x=>x.filter(S=>S!==p))},t[14]=e,t[15]=u.queries,t[16]=T):T=t[16];const H=T;let g;return t[17]!==H||t[18]!==D||t[19]!==i||t[20]!==F||t[21]!==w||t[22]!==d||t[23]!==l||t[24]!==P||t[25]!==u.queries?(g={queries:u.queries,saveQuery:w,updateQuery:P,deleteQuery:H,saving:l,deleting:i,saveQueryError:d,deleteQueryError:D,error:F},t[17]=H,t[18]=D,t[19]=i,t[20]=F,t[21]=w,t[22]=d,t[23]=l,t[24]=P,t[25]=u.queries,t[26]=g):g=t[26],g}function Ls(t){return t||or}const Ts=ne(Ee).withConfig({displayName:"FixedHeader",componentId:"sc-14q7beb-0"})`position:sticky;top:0;background:${({theme:t})=>t.sanity.color.base.bg};z-index:1;`,Ms=ne(ue).withConfig({displayName:"ScrollContainer",componentId:"sc-14q7beb-1"})`height:100%;overflow-y:auto;overflow-x:hidden;&::-webkit-scrollbar{width:8px;}&::-webkit-scrollbar-track{background:transparent;}&::-webkit-scrollbar-thumb{background:${({theme:t})=>t.sanity.color.base.border};border-radius:4px;}`;function Vs(t){const e=le.c(80),{url:u,getStateFromUrl:r,setStateFromParsedUrl:l,currentQuery:n,currentParams:o,generateUrl:i}=t,s=Kr(),{saveQuery:d,updateQuery:C,queries:D,deleteQuery:B,saving:F,saveQueryError:y}=$s(),{t:c}=Je(Qe);let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0},e[0]=m):m=e[0];const h=qn(m),[b,R]=O.useState(null),[w,E]=O.useState("");let P;e[1]===Symbol.for("react.memo_cache_sentinel")?(P={},e[1]=P):P=e[1];const[T,H]=O.useState(P),[g,p]=O.useState(""),[x,S]=O.useState(u);let v;e[2]!==o||e[3]!==n||e[4]!==h||e[5]!==i||e[6]!==r||e[7]!==D||e[8]!==d||e[9]!==y||e[10]!==c||e[11]!==s?(v=async()=>{const Q=i(n,o);if(D?.some(ee=>{const V=r(ee.url);return V&&V.query===n&&jt(V.params,o)})){const ee=D?.find(V=>{const q=r(V.url);return q&&q.query===n&&jt(q.params,o)});s.push({closable:!0,status:"warning",title:c("save-query.already-saved"),description:`${ee?.title} - ${h.format(new Date(ee?.savedAt||""))}`});return}Q&&(await d({url:Q,savedAt:new Date().toISOString(),title:"Untitled"}),S(Q)),y?s.push({closable:!0,status:"error",title:c("save-query.error"),description:y.message}):s.push({closable:!0,status:"success",title:c("save-query.success")})},e[2]=o,e[3]=n,e[4]=h,e[5]=i,e[6]=r,e[7]=D,e[8]=d,e[9]=y,e[10]=c,e[11]=s,e[12]=v):v=e[12];const I=v;let Y;e[13]!==c||e[14]!==s||e[15]!==C?(Y=async(Q,ee)=>{R(null),H(V=>({...V,[Q._key]:ee}));try{await C({...Q,title:ee}),H(V=>{const q={...V};return delete q[Q._key],q})}catch(V){const q=V;H(fe=>{const he={...fe};return delete he[Q._key],he}),s.push({closable:!0,status:"error",title:c("save-query.error"),description:q.message})}},e[13]=c,e[14]=s,e[15]=C,e[16]=Y):Y=e[16];const X=Y;let M;e[17]!==o||e[18]!==n||e[19]!==h||e[20]!==i||e[21]!==r||e[22]!==D||e[23]!==c||e[24]!==s||e[25]!==C?(M=async Q=>{const ee=i(n,o);if(D?.some(V=>{if(V._key===Q._key)return!1;const q=r(V.url);return q&&q.query===n&&jt(q.params,o)})){const V=D?.find(q=>{if(q._key===Q._key)return!1;const fe=r(q.url);return fe&&fe.query===n&&jt(fe.params,o)});s.push({closable:!0,status:"warning",title:c("save-query.already-saved"),description:`${V?.title} - ${h.format(new Date(V?.savedAt||""))}`});return}try{await C({...Q,url:ee,savedAt:new Date().toISOString()}),S(ee),s.push({closable:!0,status:"success",title:c("save-query.success")})}catch(V){const q=V;s.push({closable:!0,status:"error",title:c("save-query.error"),description:q.message})}},e[17]=o,e[18]=n,e[19]=h,e[20]=i,e[21]=r,e[22]=D,e[23]=c,e[24]=s,e[25]=C,e[26]=M):M=e[26];const re=M;let z,W,oe,f,j;if(e[27]!==o||e[28]!==n||e[29]!==B||e[30]!==b||e[31]!==w||e[32]!==h||e[33]!==r||e[34]!==I||e[35]!==X||e[36]!==re||e[37]!==T||e[38]!==D||e[39]!==F||e[40]!==g||e[41]!==x||e[42]!==l||e[43]!==c){const Q=D?.filter(te=>te?.title?.toLowerCase().includes(g.toLowerCase()));W=Ms;let ee;e[49]===Symbol.for("react.memo_cache_sentinel")?(ee={textTransform:"capitalize"},e[49]=ee):ee=e[49];let V;e[50]!==c?(V=c("label.saved-queries"),e[50]=c,e[51]=V):V=e[51];let q;e[52]!==V?(q=a.jsx(ye,{weight:"semibold",style:ee,size:4,children:V}),e[52]=V,e[53]=q):q=e[53];let fe;e[54]!==c?(fe=c("action.save-query"),e[54]=c,e[55]=fe):fe=e[55];let he;e[56]!==I||e[57]!==F||e[58]!==fe?(he=a.jsx(Pe,{label:fe,icon:ui,disabled:F,onClick:I,mode:"bleed"}),e[56]=I,e[57]=F,e[58]=fe,e[59]=he):he=e[59];let ie;e[60]!==q||e[61]!==he?(ie=a.jsxs(ge,{padding:3,paddingTop:4,paddingBottom:0,justify:"space-between",align:"center",children:[q,he]}),e[60]=q,e[61]=he,e[62]=ie):ie=e[62];let Oe;e[63]!==c?(Oe=c("label.search-queries"),e[63]=c,e[64]=Oe):Oe=e[64];let Ue;e[65]===Symbol.for("react.memo_cache_sentinel")?(Ue=te=>p(te.currentTarget.value),e[65]=Ue):Ue=e[65];let Ie;e[66]!==g||e[67]!==Oe?(Ie=a.jsx(ue,{padding:3,paddingTop:0,children:a.jsx(Cu,{placeholder:Oe,icon:ri,value:g,onChange:Ue})}),e[66]=g,e[67]=Oe,e[68]=Ie):Ie=e[68],e[69]!==ie||e[70]!==Ie?(j=a.jsxs(Ts,{space:3,children:[ie,Ie]}),e[69]=ie,e[70]=Ie,e[71]=j):j=e[71],z=Ee,oe=3,f=Q?.map(te=>{const G=r(te.url),et=x===te.url,yt=G&&n===G.query&&jt(o,G.params),We=et&&!yt;return a.jsx(De,{width:"fill",padding:4,border:!0,tone:et?"positive":"default",onClick:()=>{S(te.url);const Ce=r(te.url);Ce&&l(Ce)},style:{position:"relative"},children:a.jsxs(Ee,{space:3,children:[a.jsxs(ge,{justify:"space-between",align:"center",children:[a.jsxs(ge,{align:"center",gap:2,paddingRight:1,children:[b===te._key?a.jsx(Cu,{value:w,onChange:Ce=>E(Ce.currentTarget.value),onKeyDown:Ce=>{Ce.key==="Enter"?X(te,w):Ce.key==="Escape"&&R(null)},onBlur:()=>X(te,w),autoFocus:!0,style:{maxWidth:"170px",height:"24px"}}):a.jsx(ye,{weight:"bold",size:3,textOverflow:"ellipsis",style:{maxWidth:"170px",cursor:"pointer",padding:"4px 0"},title:T[te._key]||te.title||te._key.slice(te._key.length-5,te._key.length),onClick:()=>{R(te._key),E(te.title||te._key.slice(0,5))},children:T[te._key]||te.title||te._key.slice(te._key.length-5,te._key.length)}),We&&a.jsx(ue,{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"var(--card-focus-ring-color)"}})]}),a.jsx(Jn,{button:a.jsx(Wn,{}),id:`${te._key}-menu`,menu:a.jsx(Qn,{children:a.jsx(Un,{tone:"critical",padding:3,icon:Hn,text:c("action.delete"),onClick:Ce=>{Ce.stopPropagation(),B(te._key)}})}),popover:{portal:!0,placement:"bottom-end",tone:"default"}})]}),a.jsx(Eu,{muted:!0,children:G?.query.split("{")[0]}),a.jsx(ge,{align:"center",gap:1,children:a.jsx(ye,{size:1,muted:!0,children:h.format(new Date(te.savedAt||""))})}),We&&a.jsx(Pe,{mode:"ghost",tone:"default",size:1,padding:2,style:{height:"24px",position:"absolute",right:"16px",bottom:"16px",fontSize:"12px"},text:c("action.update"),onClick:Ce=>{Ce.stopPropagation(),re(te)}})]})},te._key)}),e[27]=o,e[28]=n,e[29]=B,e[30]=b,e[31]=w,e[32]=h,e[33]=r,e[34]=I,e[35]=X,e[36]=re,e[37]=T,e[38]=D,e[39]=F,e[40]=g,e[41]=x,e[42]=l,e[43]=c,e[44]=z,e[45]=W,e[46]=oe,e[47]=f,e[48]=j}else z=e[44],W=e[45],oe=e[46],f=e[47],j=e[48];let N;e[72]!==z||e[73]!==oe||e[74]!==f?(N=a.jsx(z,{paddingY:oe,children:f}),e[72]=z,e[73]=oe,e[74]=f,e[75]=N):N=e[75];let $;return e[76]!==W||e[77]!==j||e[78]!==N?($=a.jsxs(W,{children:[j,N]}),e[76]=W,e[77]=j,e[78]=N,e[79]=$):$=e[79],$}function Cr(){return typeof window<"u"&&window.innerWidth>600}function hn(t){let e=t;return e||(e=typeof window<"u"&&typeof document<"u"?document.body.getBoundingClientRect().height-60:0),{defaultSize:e/(Cr()?2:1),size:e>550?void 0:e*.4,allowResize:e>550,minSize:Math.min(170,Math.max(170,e/2)),maxSize:e>650?e*.7:e*.6}}function qs(t){const e=le.c(6),{visionRootRef:u}=t,[r,l]=O.useState(Qs),[n,o]=O.useState(Js);let i,s;e[0]!==u?(i=()=>{if(!u.current)return;const C=B=>{l(Cr());const F=B?.[0];F&&o(hn(F.contentRect.height))},D=new ResizeObserver(C);return D.observe(u.current),()=>{D.disconnect()}},s=[u],e[0]=u,e[1]=i,e[2]=s):(i=e[1],s=e[2]),O.useEffect(i,s);let d;return e[3]!==r||e[4]!==n?(d={paneSizeOptions:n,isNarrowBreakpoint:r},e[3]=r,e[4]=n,e[5]=d):d=e[5],d}function Js(){return hn(void 0)}function Qs(){return Cr()}function Us(t){const e=le.c(30),{hasValidParams:u,listenInProgress:r,queryInProgress:l,onQueryExecution:n,onListenExecution:o}=t,{t:i}=Je(Qe);let s;e[0]!==i?(s=i("params.error.params-invalid-json"),e[0]=i,e[1]=s):s=e[1];let d;e[2]!==s?(d=a.jsx(De,{radius:4,children:a.jsx(ye,{size:1,muted:!0,children:s})}),e[2]=s,e[3]=d):d=e[3];let C;e[4]===Symbol.for("react.memo_cache_sentinel")?(C=a.jsx(De,{radius:4,children:a.jsx($n,{keys:["Ctrl","Enter"]})}),e[4]=C):C=e[4];const D=l?Ar:Er,B=r||!u,F=l?"positive":"primary";let y;e[5]!==l||e[6]!==i?(y=i(l?"action.query-cancel":"action.query-execute"),e[5]=l,e[6]=i,e[7]=y):y=e[7];let c;e[8]!==n||e[9]!==D||e[10]!==B||e[11]!==F||e[12]!==y?(c=a.jsx(ue,{flex:1,children:a.jsx(Ot,{content:C,placement:"top",portal:!0,children:a.jsx(Pe,{width:"fill",onClick:n,type:"button",icon:D,disabled:B,tone:F,text:y})})}),e[8]=n,e[9]=D,e[10]=B,e[11]=F,e[12]=y,e[13]=c):c=e[13];const m=r?Ar:Er;let h;e[14]!==r||e[15]!==i?(h=i(r?"action.listen-cancel":"action.listen-execute"),e[14]=r,e[15]=i,e[16]=h):h=e[16];const b=!u,R=r?"positive":"default";let w;e[17]!==o||e[18]!==h||e[19]!==b||e[20]!==R||e[21]!==m?(w=a.jsx(ue,{flex:1,marginLeft:3,children:a.jsx(Pe,{width:"fill",onClick:o,type:"button",icon:m,text:h,mode:"ghost",disabled:b,tone:R})}),e[17]=o,e[18]=h,e[19]=b,e[20]=R,e[21]=m,e[22]=w):w=e[22];let E;e[23]!==w||e[24]!==c?(E=a.jsxs(ge,{justify:"space-evenly",children:[c,w]}),e[23]=w,e[24]=c,e[25]=E):E=e[25];let P;return e[26]!==u||e[27]!==E||e[28]!==d?(P=a.jsx(Os,{children:a.jsx(De,{padding:3,paddingX:3,children:a.jsx(Ot,{content:d,placement:"top",disabled:u,portal:!0,children:E})})}),e[26]=u,e[27]=E,e[28]=d,e[29]=P):P=e[29],P}const Hs=ne(ue).withConfig({displayName:"PerspectivePopoverContent",componentId:"sc-ls0jfp-0"})`max-width:240px;`,Ws=ne.a.withConfig({displayName:"PerspectivePopoverLink",componentId:"sc-ls0jfp-1"})`cursor:pointer;margin-right:auto;`,Ks=ne.div.withConfig({displayName:"Dot",componentId:"sc-y1ykk8-0"})`width:4px;height:4px;border-radius:3px;box-shadow:0 0 0 1px var(--card-bg-color);background-color:${({$tone:t})=>`var(--card-badge-${t}-dot-color)`};`;function Ys(){const t=le.c(39),[e,u]=O.useState(!1),r=O.useRef(null),l=O.useRef(null);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>u(Xs),t[0]=n):n=t[0];const o=n,{t:i}=Je(Qe);let s,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=()=>u(!1),d=()=>[r.current,l.current],t[1]=s,t[2]=d):(s=t[1],d=t[2]),ii(s,d);let C;t[3]!==i?(C=i("settings.perspectives.title"),t[3]=i,t[4]=C):C=t[4];let D;t[5]!==C?(D=a.jsx(Gr,{space:2,children:a.jsx(ye,{weight:"medium",children:C})}),t[5]=C,t[6]=D):D=t[6];let B;t[7]!==i?(B=i("settings.perspectives.description"),t[7]=i,t[8]=B):B=t[8];let F;t[9]!==B?(F=a.jsx(De,{children:a.jsx(ye,{muted:!0,children:B})}),t[9]=B,t[10]=F):F=t[10];let y;t[11]!==i?(y=i("label.new"),t[11]=i,t[12]=y):y=t[12];let c;t[13]!==y?(c=a.jsx(ue,{children:a.jsx(ai,{tone:"primary",children:y})}),t[13]=y,t[14]=c):c=t[14];let m;t[15]!==i?(m=a.jsx(ye,{muted:!0,children:a.jsx(Zr,{t:i,i18nKey:"settings.perspective.preview-drafts-renamed-to-drafts.description"})}),t[15]=i,t[16]=m):m=t[16];let h;t[17]!==c||t[18]!==m?(h=a.jsx(De,{children:a.jsxs(Ee,{space:2,children:[c,m]})}),t[17]=c,t[18]=m,t[19]=h):h=t[19];let b;t[20]!==i?(b=null,t[20]=i,t[21]=b):b=t[21];let R;t[22]!==i?(R=i("settings.perspectives.action.docs-link"),t[22]=i,t[23]=R):R=t[23];let w;t[24]!==R?(w=a.jsx(De,{children:a.jsx(ye,{children:a.jsxs(Ws,{href:"https://www.sanity.io/docs/perspectives",target:"_blank",children:[R," →"]})})}),t[24]=R,t[25]=w):w=t[25];let E;t[26]!==h||t[27]!==b||t[28]!==w||t[29]!==D||t[30]!==F?(E=a.jsx(Hs,{children:a.jsxs(Ee,{space:4,children:[D,F,h,b,w]})}),t[26]=h,t[27]=b,t[28]=w,t[29]=D,t[30]=F,t[31]=E):E=t[31];let P;t[32]===Symbol.for("react.memo_cache_sentinel")?(P=a.jsx(Ks,{$tone:"primary"}),t[32]=P):P=t[32];let T;t[33]!==e?(T=a.jsx(Pe,{icon:oi,mode:"bleed",padding:2,paddingRight:1,tone:"primary",fontSize:1,ref:r,onClick:o,selected:e,children:P}),t[33]=e,t[34]=T):T=t[34];let H;return t[35]!==e||t[36]!==E||t[37]!==T?(H=a.jsx(si,{content:E,placement:"bottom-start",portal:!0,padding:3,ref:l,open:e,children:T}),t[35]=e,t[36]=E,t[37]=T,t[38]=H):H=t[38],H}function Xs(t){return!t}const Gs=t=>{const e=le.c(11),{pinnedPerspective:u,t:r}=t,l=typeof u.selectedPerspective=="object"?u.selectedPerspective.metadata.title:u.selectedPerspectiveName;let n;e[0]!==u||e[1]!==r?(n=qr(u)?`(${r("settings.perspectives.pinned-release-label")})`:r("settings.perspectives.pinned-release-label"),e[0]=u,e[1]=r,e[2]=n):n=e[2];const o=n;let i;e[3]!==o||e[4]!==l?(i=[l,o].filter(ua),e[3]=o,e[4]=l,e[5]=i):i=e[5];const s=i.join(" ");let d;e[6]!==u?(d=qr(u),e[6]=u,e[7]=d):d=e[7];const C=!d;let D;return e[8]!==C||e[9]!==s?(D=a.jsx("option",{value:"pinnedRelease",disabled:C,children:s}),e[8]=C,e[9]=s,e[10]=D):D=e[10],D};function Zs(t){const e=le.c(65),{onChangeDataset:u,dataset:r,customApiVersion:l,apiVersion:n,onChangeApiVersion:o,datasets:i,customApiVersionElementRef:s,onCustomApiVersionChange:d,isValidApiVersion:C,onChangePerspective:D,url:B,perspective:F,isScheduledDraftsEnabled:y}=t,c=Yr(),{t:m}=Je(Qe),h=O.useRef(null);let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{const q=h.current;if(q)try{q.select(),document.execCommand("copy")}catch{console.error("Unable to copy to clipboard :(")}},e[0]=b):b=e[0];const R=b;let w;e[1]===Symbol.for("react.memo_cache_sentinel")?(w=[1,4,8,12],e[1]=w):w=e[1];let E;e[2]!==m?(E=m("settings.dataset-label"),e[2]=m,e[3]=E):E=e[3];let P;e[4]!==E?(P=a.jsx(De,{paddingTop:2,paddingBottom:3,children:a.jsx(Ve,{children:E})}),e[4]=E,e[5]=P):P=e[5];let T;e[6]!==i?(T=i.map(ta),e[6]=i,e[7]=T):T=e[7];let H;e[8]!==r||e[9]!==u||e[10]!==T?(H=a.jsx(Uu,{value:r,onChange:u,children:T}),e[8]=r,e[9]=u,e[10]=T,e[11]=H):H=e[11];let g;e[12]!==P||e[13]!==H?(g=a.jsx(ue,{padding:1,column:2,children:a.jsxs(Ee,{children:[P,H]})}),e[12]=P,e[13]=H,e[14]=g):g=e[14];let p;e[15]!==m?(p=m("settings.api-version-label"),e[15]=m,e[16]=p):p=e[16];let x;e[17]!==p?(x=a.jsx(De,{paddingTop:2,paddingBottom:3,children:a.jsx(Ve,{children:p})}),e[17]=p,e[18]=x):x=e[18];const S=l===!1?n:"other";let v;e[19]===Symbol.for("react.memo_cache_sentinel")?(v=Pt.map(ea),e[19]=v):v=e[19];let I;e[20]!==m?(I=m("settings.other-api-version-label"),e[20]=m,e[21]=I):I=e[21];let Y;e[22]!==I?(Y=a.jsx("option",{value:"other",children:I},"other"),e[22]=I,e[23]=Y):Y=e[23];let X;e[24]!==o||e[25]!==S||e[26]!==Y?(X=a.jsxs(Uu,{"data-testid":"api-version-selector",value:S,onChange:o,children:[v,Y]}),e[24]=o,e[25]=S,e[26]=Y,e[27]=X):X=e[27];let M;e[28]!==X||e[29]!==x?(M=a.jsx(ue,{padding:1,column:2,children:a.jsxs(Ee,{children:[x,X]})}),e[28]=X,e[29]=x,e[30]=M):M=e[30];let re;e[31]!==l||e[32]!==s||e[33]!==C||e[34]!==d||e[35]!==m?(re=l!==!1&&a.jsx(ue,{padding:1,column:2,children:a.jsxs(Ee,{children:[a.jsx(De,{paddingTop:2,paddingBottom:3,children:a.jsx(Ve,{textOverflow:"ellipsis",children:m("settings.custom-api-version-label")})}),a.jsx(Cu,{ref:s,value:l,onChange:d,customValidity:C?void 0:m("settings.error.invalid-api-version"),maxLength:11})]})}),e[31]=l,e[32]=s,e[33]=C,e[34]=d,e[35]=m,e[36]=re):re=e[36];let z;e[37]!==m?(z=m("settings.perspective-label"),e[37]=m,e[38]=z):z=e[38];let W;e[39]!==z?(W=a.jsx(ue,{children:a.jsx(Ve,{children:z})}),e[39]=z,e[40]=W):W=e[40];let oe;e[41]===Symbol.for("react.memo_cache_sentinel")?(oe=a.jsx(ue,{children:a.jsx(Ys,{})}),e[41]=oe):oe=e[41];let f;e[42]!==W?(f=a.jsx(De,{paddingBottom:1,children:a.jsxs(Gr,{space:1,children:[W,oe]})}),e[42]=W,e[43]=f):f=e[43];const j=F||"default";let N;e[44]!==y||e[45]!==c||e[46]!==m?(N=ln.map(q=>q==="pinnedRelease"?a.jsxs(O.Fragment,{children:[a.jsx(Gs,{pinnedPerspective:c,t:m}),a.jsx("option",{value:"default",children:m("settings.perspectives.default")},"default"),a.jsx("hr",{})]},"pinnedRelease"):q==="scheduledDrafts"?y?a.jsx("option",{value:"scheduledDrafts",children:m("settings.perspectives.scheduled-drafts")},"scheduledDrafts"):null:a.jsx("option",{children:q},q)),e[44]=y,e[45]=c,e[46]=m,e[47]=N):N=e[47];let $;e[48]!==D||e[49]!==j||e[50]!==N?($=a.jsx(Uu,{value:j,onChange:D,children:N}),e[48]=D,e[49]=j,e[50]=N,e[51]=$):$=e[51];let Q;e[52]!==f||e[53]!==$?(Q=a.jsx(ue,{padding:1,column:2,children:a.jsxs(Ee,{children:[f,$]})}),e[52]=f,e[53]=$,e[54]=Q):Q=e[54];let ee;e[55]!==l||e[56]!==m||e[57]!==B?(ee=typeof B=="string"?a.jsx(ue,{padding:1,flex:1,column:l===!1?6:4,children:a.jsxs(Ee,{children:[a.jsx(De,{paddingTop:2,paddingBottom:3,children:a.jsxs(Ve,{children:[m("query.url")," ",a.jsxs(xs,{onClick:R,children:["[",m("action.copy-url-to-clipboard"),"]"]})]})}),a.jsxs(ge,{flex:1,gap:1,children:[a.jsx(ue,{flex:1,children:a.jsx(Cu,{readOnly:!0,type:"url",ref:h,value:B})}),a.jsx(Ot,{content:m("action.copy-url-to-clipboard"),children:a.jsx(Pe,{"aria-label":m("action.copy-url-to-clipboard"),type:"button",mode:"ghost",icon:Mn,onClick:R})})]})]})}):a.jsx(ue,{flex:1}),e[55]=l,e[56]=m,e[57]=B,e[58]=ee):ee=e[58];let V;return e[59]!==M||e[60]!==re||e[61]!==Q||e[62]!==ee||e[63]!==g?(V=a.jsx(ys,{paddingX:3,paddingY:2,children:a.jsxs(Vn,{columns:w,children:[g,M,re,Q,ee]})}),e[59]=M,e[60]=re,e[61]=Q,e[62]=ee,e[63]=g,e[64]=V):V=e[64],V}function ea(t){return a.jsx("option",{children:t},t)}function ta(t){return a.jsx("option",{children:t},t)}function ua(t){return typeof t<"u"}function ra(t,e){return URL.createObjectURL(new Blob([t],{type:e}))}function Cn(t,e){return(()=>{let u="",r="";return l=>{const n=e(l);if(!(typeof n!="string"||n===""))return n===r||(r=n,u&&URL.revokeObjectURL(u),u=ra(n,t)),u}})()}const na=Cn("application/json",t=>JSON.stringify(t,null,2)),ia=Cn("text/csv",t=>is.json2csv(Array.isArray(t)?t:[t]).trim()),lr=ne(Eu).withConfig({displayName:"ErrorCode",componentId:"sc-14lyn64-0"})`color:${({theme:t})=>t.sanity.color.muted.critical.enabled.fg};`;function sa(t){const e=le.c(20),{error:u}=t,{t:r}=Je(Qe);if(!("details"in u))return null;const l=u.details;let n,o,i,s,d,C;if(e[0]!==u.details){C=Symbol.for("react.early_return_sentinel");e:{if(o={...l,...aa(u.details)},!o.line){C=null;break e}n=lr,d=1,i=o.line,s=oa(o.column,o.columnEnd)}e[0]=u.details,e[1]=n,e[2]=o,e[3]=i,e[4]=s,e[5]=d,e[6]=C}else n=e[1],o=e[2],i=e[3],s=e[4],d=e[5],C=e[6];if(C!==Symbol.for("react.early_return_sentinel"))return C;const D=`${i}
${s}`;let B;e[7]!==n||e[8]!==d||e[9]!==D?(B=a.jsx(n,{size:d,children:D}),e[7]=n,e[8]=d,e[9]=D,e[10]=B):B=e[10];let F;e[11]!==r?(F=r("query.error.line"),e[11]=r,e[12]=F):F=e[12];const y=o.lineNumber;let c;e[13]!==r?(c=r("query.error.column"),e[13]=r,e[14]=c):c=e[14];const m=`${F}:   ${y}
${c}: ${o.column}`;let h;e[15]!==m?(h=a.jsx(ue,{marginTop:4,children:a.jsx(lr,{size:1,children:m})}),e[15]=m,e[16]=h):h=e[16];let b;return e[17]!==h||e[18]!==B?(b=a.jsxs("div",{children:[B,h]}),e[17]=h,e[18]=B,e[19]=b):b=e[19],b}function aa(t){if(!t||typeof t.query!="string"||typeof t.start!="number")return{};const{query:e,start:u,end:r}=t,l=e.slice(0,u).lastIndexOf(`
`)+1,n=(e.slice(0,l).match(/\n/g)||[]).length,o=e.slice(l,e.indexOf(`
`,l)),i=u-l,s=typeof r=="number"?r-l:void 0;return{line:o,lineNumber:n,column:i,columnEnd:s}}function oa(t,e){const u="-".repeat(t),r="^".repeat(e?e-t:1);return`${u}${r}`}function la(t){const e=le.c(7);let u;e[0]!==t.error.message?(u=a.jsx(lr,{size:1,children:t.error.message}),e[0]=t.error.message,e[1]=u):u=e[1];let r;e[2]!==t.error?(r=a.jsx(sa,{error:t.error}),e[2]=t.error,e[3]=r):r=e[3];let l;return e[4]!==u||e[5]!==r?(l=a.jsxs(Ee,{space:5,marginTop:2,children:[u,r]}),e[4]=u,e[5]=r,e[6]=l):l=e[6],l}const ca=ne.div.withConfig({displayName:"ResultViewWrapper",componentId:"sc-nbqtaq-0"})(({theme:t})=>{const{color:e,fonts:u,space:r}=t.sanity;return Xr`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: ${u.code.family};
      font-size: ${u.code.sizes[2].fontSize}px;
      line-height: ${u.code.sizes[2].lineHeight}px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: ${Re(r[4])};
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: ${Re(r[0])};
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0px - ${Re(r[4])});
      font-size: ${u.code.sizes[2].fontSize}px;
      line-height: ${u.code.sizes[2].lineHeight}px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: ${u.code.sizes[2].fontSize}px;
      line-height: ${u.code.sizes[2].lineHeight}px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: ${Re(r[4]/2)};
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: ${e.syntax.property};
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: ${e.syntax.constant};
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: ${Re(r[2])};
    }

    & .json-inspector .json-inspector__value_string {
      color: ${e.syntax.string};
      word-break: break-word;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: ${e.syntax.boolean};
    }

    & .json-inspector .json-inspector__value_number {
      color: ${e.syntax.number};
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `}),cr=new os({maxSize:5e4});function Ur(t){const e=le.c(7),{data:u,datasetName:r}=t,l=Kn();if(mn(u)||Array.isArray(u)){const i=l===r?da:void 0;let s;return e[0]!==u||e[1]!==i?(s=a.jsx(ca,{children:a.jsx(Yn,{data:u,search:!1,isExpanded:Da,onClick:fa,interactiveLabel:i})}),e[0]=u,e[1]=i,e[2]=s):s=e[2],s}let n;e[3]!==u?(n=JSON.stringify(u),e[3]=u,e[4]=n):n=e[4];let o;return e[5]!==n?(o=a.jsx(Eu,{language:"json",children:n}),e[5]=n,e[6]=o):o=e[6],o}function da(t){const e=le.c(5);if(t.isKey||!t.keypath.endsWith("_id")&&!t.keypath.endsWith("_ref"))return null;let u;e[0]!==t.value?(u={id:t.value},e[0]=t.value,e[1]=u):u=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(ni,{}),e[2]=r):r=e[2];let l;return e[3]!==u?(l=a.jsx(Gn,{intent:"edit",params:u,children:r}),e[3]=u,e[4]=l):l=e[4],l}function Da(t,e){const u=cr.get(t);if(typeof u=="boolean")return u;const r=t.split(".",4);return r.length===4?!1:Array.isArray(e)?!0:mn(e)&&!r.some(l=>ha(l))}function fa(t){const{path:e}=t,u=cr.get(e);u!==void 0&&cr.set(e,!u)}function mn(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}const pa=/^\d+$/;function ha(t,e=10){return pa.test(t)&&parseInt(t,10)>e}function Ca(t){return t.preventDefault()}function ma(t){const e=le.c(9),{blobUrl:u}=t,{t:r}=Je(Qe),l=!u,n=l?void 0:"query-result.csv",o=l?Ca:void 0;let i;e[0]!==u||e[1]!==l||e[2]!==n||e[3]!==o?(i=a.jsx(Pe,{as:"a",disabled:l,download:n,href:u,icon:en,mode:"ghost",onClick:o,text:"CSV",tone:"default"}),e[0]=u,e[1]=l,e[2]=n,e[3]=o,e[4]=i):i=e[4];const s=i;let d;return e[5]!==s||e[6]!==l||e[7]!==r?(d=l?a.jsx(Ot,{content:r("result.save-result-as-csv.not-csv-encodable"),placement:"top",children:s}):s,e[5]=s,e[6]=l,e[7]=r,e[8]=d):d=e[8],d}function Fa(t){const e=le.c(2),{blobUrl:u}=t;let r;return e[0]!==u?(r=a.jsx(Pe,{as:"a",download:"query-result.json",href:u,icon:en,mode:"ghost",text:"JSON",tone:"default"}),e[0]=u,e[1]=r):r=e[1],r}function Aa(t){const e=le.c(67),{error:u,queryInProgress:r,queryResult:l,listenInProgress:n,listenMutations:o,dataset:i,queryTime:s,e2eTime:d}=t,{t:C}=Je(Qe),D=!u&&!r&&typeof l<"u";let B;e[0]!==D||e[1]!==l?(B=D?na(l):"",e[0]=D,e[1]=l,e[2]=B):B=e[2];const F=B;let y;e[3]!==D||e[4]!==l?(y=D?ia(l):"",e[3]=D,e[4]=l,e[5]=y):y=e[5];const c=y,m=u?"critical":"default",h=!!u;let b;e[6]!==C?(b=C("result.label"),e[6]=C,e[7]=b):b=e[7];let R;e[8]!==b?(R=a.jsx(fn,{children:a.jsx(ue,{marginLeft:3,children:a.jsx(Ve,{muted:!0,children:b})})}),e[8]=b,e[9]=R):R=e[9];let w;e[10]!==n||e[11]!==o||e[12]!==r?(w=(r||n&&o.length===0)&&a.jsx(ue,{marginTop:3,children:a.jsx(on,{})}),e[10]=n,e[11]=o,e[12]=r,e[13]=w):w=e[13];let E;e[14]!==u?(E=u&&a.jsx(la,{error:u}),e[14]=u,e[15]=E):E=e[15];let P;e[16]!==i||e[17]!==D||e[18]!==l?(P=D&&a.jsx(Ur,{data:l,datasetName:i}),e[16]=i,e[17]=D,e[18]=l,e[19]=P):P=e[19];let T;e[20]!==i||e[21]!==n||e[22]!==o?(T=n&&o.length>0&&a.jsx(Ur,{data:o,datasetName:i}),e[20]=i,e[21]=n,e[22]=o,e[23]=T):T=e[23];let H;e[24]!==T||e[25]!==w||e[26]!==E||e[27]!==P?(H=a.jsxs(ue,{padding:3,paddingTop:5,children:[w,E,P,T]}),e[24]=T,e[25]=w,e[26]=E,e[27]=P,e[28]=H):H=e[28];let g;e[29]!==H||e[30]!==R?(g=a.jsxs(ws,{overflow:"auto",children:[R,H]}),e[29]=H,e[30]=R,e[31]=g):g=e[31];let p;e[32]!==g||e[33]!==m||e[34]!==h?(p=a.jsx(bs,{flex:1,children:a.jsx(Ss,{flex:1,overflow:"hidden",tone:m,$isInvalid:h,children:g})}),e[32]=g,e[33]=m,e[34]=h,e[35]=p):p=e[35];let x;e[36]===Symbol.for("react.memo_cache_sentinel")?(x=["column","column","row"],e[36]=x):x=e[36];let S;e[37]!==C?(S=C("result.execution-time-label"),e[37]=C,e[38]=S):S=e[38];let v;e[39]!==s||e[40]!==C?(v=typeof s=="number"?`${s}ms`:C("result.timing-not-applicable"),e[39]=s,e[40]=C,e[41]=v):v=e[41];let I;e[42]!==S||e[43]!==v?(I=a.jsx(ue,{children:a.jsxs(ye,{muted:!0,children:[S,":"," ",v]})}),e[42]=S,e[43]=v,e[44]=I):I=e[44];let Y;e[45]!==C?(Y=C("result.end-to-end-time-label"),e[45]=C,e[46]=Y):Y=e[46];let X;e[47]!==d||e[48]!==C?(X=typeof d=="number"?`${d}ms`:C("result.timing-not-applicable"),e[47]=d,e[48]=C,e[49]=X):X=e[49];let M;e[50]!==Y||e[51]!==X?(M=a.jsx(ue,{marginLeft:4,children:a.jsxs(ye,{muted:!0,children:[Y,":"," ",X]})}),e[50]=Y,e[51]=X,e[52]=M):M=e[52];let re;e[53]!==I||e[54]!==M?(re=a.jsx(_s,{paddingX:4,paddingY:3,sizing:"border",children:a.jsxs(Rs,{align:"center",children:[I,M]})}),e[53]=I,e[54]=M,e[55]=re):re=e[55];let z;e[56]!==c||e[57]!==D||e[58]!==F||e[59]!==C?(z=D&&a.jsx(zs,{paddingX:4,paddingY:3,sizing:"border",children:a.jsx(Ps,{muted:!0,children:a.jsx(Zr,{components:{SaveResultButtons:()=>a.jsxs(a.Fragment,{children:[a.jsx(Fa,{blobUrl:F}),a.jsx(ma,{blobUrl:c})]})},i18nKey:"result.save-result-as-format",t:C})})}),e[56]=c,e[57]=D,e[58]=F,e[59]=C,e[60]=z):z=e[60];let W;e[61]!==re||e[62]!==z?(W=a.jsxs(js,{justify:"space-between",direction:x,children:[re,z]}),e[61]=re,e[62]=z,e[63]=W):W=e[63];let oe;return e[64]!==p||e[65]!==W?(oe=a.jsxs(Bs,{direction:"column","data-testid":"vision-result",children:[p,W]}),e[64]=p,e[65]=W,e[66]=oe):oe=e[66],oe}function Ea(t,e){return!t||!e?!1:t===e||!!(t.compareDocumentPosition(e)&16)}const ga=/\/(vX|v1|v\d{4}-\d\d-\d\d)\/.*?(?:query|listen)\/(.*?)\?(.*)/,ya=t=>gr("ctrl+enter",t)||gr("mod+enter",t);function va(t){const e=le.c(210),{datasets:u,config:r,projectId:l,defaultDataset:n}=t,o=Kr(),{t:i}=Je(Qe),{perspectiveStack:s}=Yr(),d=jn(),{data:C}=_n();let D;e[0]!==C?(D=C===void 0?[]:C,e[0]=C,e[1]=D):D=e[1];const B=D,F=Rn().document.drafts.enabled,y=O.useRef(null),c=O.useRef(null),m=O.useRef(null),h=O.useRef(null),b=O.useRef(void 0),R=O.useRef(void 0);let w;e[2]!==l?(w=()=>ms(l||"default"),e[2]=l,e[3]=w):w=e[3];const[E]=O.useState(w);let P;e[4]!==n||e[5]!==E?(P=E.get("dataset",n),e[4]=n,e[5]=E,e[6]=P):P=e[6];const T=P;let H;e[7]!==r.defaultApiVersion||e[8]!==E?(H=E.get("apiVersion",Es(`${r.defaultApiVersion}`)),e[7]=r.defaultApiVersion,e[8]=E,e[9]=H):H=e[9];const g=H;let p;e[10]!==E?(p=E.get("query",""),e[10]=E,e[11]=p):p=e[11];const x=p;let S;e[12]!==E?(S=E.get("params",`{
  
}`),e[12]=E,e[13]=S):S=e[13];const v=S;let I;e[14]!==E?(I=E.get("perspective",void 0),e[14]=E,e[15]=I):I=e[15];const Y=I;let X;e[16]!==u||e[17]!==n||e[18]!==T?(X=()=>u.includes(T)?T:u.includes(n)?n:u[0],e[16]=u,e[17]=n,e[18]=T,e[19]=X):X=e[19];const[M,re]=O.useState(X);let z;e[20]!==g?(z=()=>Pt.includes(g)?g:an,e[20]=g,e[21]=z):z=e[21];const[W,oe]=O.useState(z);let f;e[22]!==g?(f=()=>Pt.includes(g)?!1:g,e[22]=g,e[23]=f):f=e[23];const[j,N]=O.useState(f),[$,Q]=O.useState(Y||"raw");let ee;e[24]!==j?(ee=j?ur(j):!0,e[24]=j,e[25]=ee):ee=e[25];const V=ee,[q,fe]=O.useState(void 0);let he;e[26]!==x?(he=()=>typeof x=="string"?x:"",e[26]=x,e[27]=he):he=e[27];const[ie,Oe]=O.useState(he),[Ue,Ie]=O.useState(v);let te;e[28]!==Ue||e[29]!==i?(te=Qr(Ue,i),e[28]=Ue,e[29]=i,e[30]=te):te=e[30];const G=te,[et,yt]=O.useState(void 0);let We;e[31]===Symbol.for("react.memo_cache_sentinel")?(We=[],e[31]=We):We=e[31];const[Ce,yu]=O.useState(We),[vu,vt]=O.useState(void 0),[xu,Bu]=O.useState(void 0),[bu,Su]=O.useState(void 0),[Ne,xt]=O.useState(!1),[ke,It]=O.useState(!1),[Ke,Fn]=O.useState(!1);let Nt;e[32]===Symbol.for("react.memo_cache_sentinel")?(Nt={visionRootRef:m},e[32]=Nt):Nt=e[32];const{paneSizeOptions:ve,isNarrowBreakpoint:wu}=qs(Nt);let ju;e:{if(!d){ju=void 0;break e}let _;if(e[33]!==F||e[34]!==B){const k=B.filter(Ba),me=zn(k).map(xa);let be;e[36]!==F?(be=F?["drafts"]:["published"],e[36]=F,e[37]=be):be=e[37];const wt=be;_=[...me,...wt],e[33]=F,e[34]=B,e[35]=_}else _=e[35];ju=_}const $e=ju,_u=V&&j?j:W;let kt;e[38]!==_u?(kt={apiVersion:_u},e[38]=_u,e[39]=kt):kt=e[39];const Ru=dr(kt);let $t;e[40]!==Ru||e[41]!==W||e[42]!==j||e[43]!==M||e[44]!==V||e[45]!==$||e[46]!==s||e[47]!==$e?($t=Ru.withConfig({apiVersion:V&&j?j:W,perspective:er({visionPerspective:$,perspectiveStack:s,scheduledDraftsStack:$e}),dataset:M,allowReconfigure:!0}),e[40]=Ru,e[41]=W,e[42]=j,e[43]=M,e[44]=V,e[45]=$,e[46]=s,e[47]=$e,e[48]=$t):$t=e[48];const Be=$t;let Lt;e[49]===Symbol.for("react.memo_cache_sentinel")?(Lt=()=>{b.current&&(b.current.unsubscribe(),b.current=void 0)},e[49]=Lt):Lt=e[49];const Tt=Lt;let Mt;e[50]===Symbol.for("react.memo_cache_sentinel")?(Mt=()=>{R.current&&(R.current.unsubscribe(),R.current=void 0)},e[50]=Mt):Mt=e[50];const Bt=Mt;let Vt;e[51]!==W||e[52]!==Be||e[53]!==j||e[54]!==M||e[55]!==V||e[56]!==E||e[57]!==G.parsed||e[58]!==$||e[59]!==s||e[60]!==ie||e[61]!==Ne||e[62]!==$e||e[63]!==i?(Vt=_=>{if(Ne){Tt(),Bt(),xt(!1);return}const k={query:_?.query||ie,dataset:_?.dataset||M,params:Qr(JSON.stringify(_?.params||G.parsed,null,2),i),perspective:er({visionPerspective:_&&"perspective"in _?_.perspective:$,perspectiveStack:s,scheduledDraftsStack:$e}),apiVersion:_?.apiVersion||(j&&V?j:W)};if(E.set("query",k.query),E.set("params",k.params.raw),Bt(),xt(!k.params.error&&!!k.query),It(!1),yu([]),vt(k.params.error?new Error(k.params.error):void 0),yt(void 0),Bu(void 0),Su(void 0),k.params.error)return;const me={perspective:k.perspective??[]},be=Be.withConfig({apiVersion:k.apiVersion,dataset:k.dataset,perspective:k.perspective}),wt=be.getUrl(be.getDataUrl("query",tr(k.query,k.params.parsed,me)));fe(wt);const Ju=Date.now();b.current=be.observable.fetch(k.query,k.params.parsed,{filterResponse:!1,tag:"vision"}).subscribe({next:Ae=>{Bu(Ae.ms),Su(Date.now()-Ju),yt(Ae.result),xt(!1),vt(void 0)},error:Ae=>{vt(Ae),xt(!1)}})},e[51]=W,e[52]=Be,e[53]=j,e[54]=M,e[55]=V,e[56]=E,e[57]=G.parsed,e[58]=$,e[59]=s,e[60]=ie,e[61]=Ne,e[62]=$e,e[63]=i,e[64]=Vt):Vt=e[64];const ce=Vt;let qt;e[65]!==ce||e[66]!==E?(qt=_=>{_!==void 0&&!Zu(_)||(Q(_),E.set("perspective",_),ce({perspective:_}))},e[65]=ce,e[66]=E,e[67]=qt):qt=e[67];const tt=qt;let Jt;e[68]!==ce||e[69]!==E?(Jt=_=>{const k=_.target.value;E.set("dataset",k),re(k),ce({dataset:k})},e[68]=ce,e[69]=E,e[70]=Jt):Jt=e[70];const zu=Jt;let Qt;e[71]!==ce||e[72]!==E?(Qt=_=>{const k=_.target.value;if(k?.toLowerCase()==="other"){N("v"),h.current?.focus();return}oe(k),N(!1),E.set("apiVersion",k),ce({apiVersion:k})},e[71]=ce,e[72]=E,e[73]=Qt):Qt=e[73];const Pu=Qt;let Ut;e[74]!==ce||e[75]!==E?(Ut=_=>{const k=_.target.value||"";N(k||"v"),ur(k)&&(oe(k),E.set("apiVersion",k),ce({apiVersion:k}))},e[74]=ce,e[75]=E,e[76]=Ut):Ut=e[76];const Ou=Ut;let Ht;e[77]!==tt?(Ht=_=>{const k=_.target.value;tt(k==="default"?void 0:k)},e[77]=tt,e[78]=Ht):Ht=e[78];const Iu=Ht;let Wt;e[79]===Symbol.for("react.memo_cache_sentinel")?(Wt=_=>{_.type==="mutation"&&yu(k=>k.length===50?[_,...k.slice(0,49)]:[_,...k])},e[79]=Wt):Wt=e[79];const An=Wt;let Kt;e[80]!==Be||e[81]!==ke||e[82]!==E||e[83]!==G.error||e[84]!==G.parsed||e[85]!==G.raw||e[86]!==ie?(Kt=()=>{if(ke){Bt(),It(!1);return}const _=Be.getDataUrl("listen",tr(ie,G.parsed,{})),k=!G.error&&ie.trim().length>0;E.set("query",ie),E.set("params",G.raw),Tt(),fe(_),yu([]),xt(!1),yt(void 0),It(k),vt(G.error?new Error(G.error):void 0),Bu(void 0),Su(void 0),k&&(R.current=Be.listen(ie,G.parsed,{events:["mutation","welcome"],includeAllVersions:!0}).subscribe({next:An,error:me=>{vt(me),It(!1)}}))},e[80]=Be,e[81]=ke,e[82]=E,e[83]=G.error,e[84]=G.parsed,e[85]=G.raw,e[86]=ie,e[87]=Kt):Kt=e[87];const Nu=Kt;let Yt;e[88]!==E?(Yt=_=>{Ie(_),E.set("params",_)},e[88]=E,e[89]=Yt):Yt=e[89];const ku=Yt;let Xt;e[90]!==W||e[91]!==M||e[92]!==u||e[93]!==$||e[94]!==o?(Xt=_=>{const k=_.match(ga);if(!k)return null;const[,me,be,wt]=k,Ju=new URLSearchParams(wt),Ae=As(Ju);if(!Ae)return null;let mr,Qu;ur(me)&&(Pt.includes(me)?(mr=me,Qu=!1):Qu=me);const Fr=Zu(Ae.options.perspective)&&!Vr(Ae.options.perspective)?Ae.options.perspective:void 0;return Fr&&(!Zu(Ae.options.perspective)||Vr(Ae.options.perspective))&&o.push({closable:!0,id:"vision-paste-unsupported-perspective",status:"warning",title:'Perspective in pasted url is currently not supported. Falling back to "raw"'}),{query:Ae.query,params:Ae.params,rawParams:JSON.stringify(Ae.params,null,2),dataset:u.includes(be)?be:M,apiVersion:mr||W,customApiVersion:Qu,perspective:Fr||$,url:_}},e[90]=W,e[91]=M,e[92]=u,e[93]=$,e[94]=o,e[95]=Xt):Xt=e[95];const ut=Xt;let Gt;e[96]!==ce||e[97]!==E?(Gt=_=>{re(_.dataset),Oe(_.query),Ie(_.rawParams),oe(_.apiVersion),_.customApiVersion&&N(_.customApiVersion),Q(_.perspective),fe(_.url),y.current?.resetEditorContent(_.query),c.current?.resetEditorContent(_.rawParams),E.merge({query:_.query,params:_.rawParams,dataset:_.dataset,apiVersion:_.customApiVersion||_.apiVersion,perspective:_.perspective}),ce(_)},e[96]=ce,e[97]=E,e[98]=Gt):Gt=e[98];const rt=Gt;let Zt;e[99]!==ut||e[100]!==rt||e[101]!==o?(Zt=_=>{if(!_.clipboardData)return;const k=_.clipboardData.getData("text/plain");_.preventDefault();const me=ut(k);me&&(rt(me),o.push({closable:!0,id:"vision-paste",status:"info",title:"Parsed URL to query"}))},e[99]=ut,e[100]=rt,e[101]=o,e[102]=Zt):Zt=e[102];const bt=Zt;let eu;e[103]!==ce||e[104]!==G.valid?(eu=_=>{const k=m.current&&Ea(m.current,_.target);ya(_)&&k&&G.valid&&(ce(),_.preventDefault(),_.stopPropagation())},e[103]=ce,e[104]=G.valid,e[105]=eu):eu=e[105];const St=eu;let tu,uu;e[106]!==St||e[107]!==bt?(tu=()=>(window.document.addEventListener("paste",bt),window.document.addEventListener("keydown",St),()=>{window.document.removeEventListener("paste",bt),window.document.removeEventListener("keydown",St)}),uu=[St,bt],e[106]=St,e[107]=bt,e[108]=tu,e[109]=uu):(tu=e[108],uu=e[109]),O.useEffect(tu,uu);let ru,nu;e[110]===Symbol.for("react.memo_cache_sentinel")?(ru=()=>()=>{Tt(),Bt()},nu=[Tt,Bt],e[110]=ru,e[111]=nu):(ru=e[110],nu=e[111]),O.useEffect(ru,nu);let iu;e[112]!==tt?(iu=_=>{_.length>0&&tt("pinnedRelease")},e[112]=tt,e[113]=iu):iu=e[113];const $u=O.useEffectEvent(iu);let su;e[114]!==$u||e[115]!==s?(su=()=>{$u(s)},e[114]=$u,e[115]=s,e[116]=su):su=e[116];let au;e[117]!==s?(au=[s],e[117]=s,e[118]=au):au=e[118],O.useEffect(su,au);let ou;e[119]!==Be||e[120]!==$||e[121]!==s||e[122]!==$e?(ou=(_,k)=>{const me={perspective:er({visionPerspective:$,perspectiveStack:s,scheduledDraftsStack:$e})??[]};return Be.getUrl(Be.getDataUrl("query",tr(_,k,me)))},e[119]=Be,e[120]=$,e[121]=s,e[122]=$e,e[123]=ou):ou=e[123];const Lu=ou;let nt;e[124]!==W||e[125]!==j||e[126]!==M||e[127]!==u||e[128]!==Pu||e[129]!==zu||e[130]!==Iu||e[131]!==Ou||e[132]!==d||e[133]!==V||e[134]!==$||e[135]!==q?(nt=a.jsx(Zs,{apiVersion:W,customApiVersion:j,dataset:M,datasets:u,onChangeDataset:zu,onChangeApiVersion:Pu,customApiVersionElementRef:h,onCustomApiVersionChange:Ou,isValidApiVersion:V,onChangePerspective:Iu,url:q,perspective:$,isScheduledDraftsEnabled:d}),e[124]=W,e[125]=j,e[126]=M,e[127]=u,e[128]=Pu,e[129]=zu,e[130]=Iu,e[131]=Ou,e[132]=d,e[133]=V,e[134]=$,e[135]=q,e[136]=nt):nt=e[136];const Tu=Ke?window.innerWidth:window.innerWidth-275,Mu=wu?"vertical":"horizontal",Vu=wu?ve.defaultSize:ve.minSize,En=ve.size,gn=ve.allowResize,qu=wu?ve.minSize:100,yn=ve.maxSize;let it;e[137]!==i?(it=i("query.label"),e[137]=i,e[138]=it):it=e[138];let st;e[139]!==it?(st=a.jsx(pn,{children:a.jsx(ge,{children:a.jsx(Ve,{muted:!0,children:it})})}),e[139]=it,e[140]=st):st=e[140];let at;e[141]!==ie?(at=a.jsx(hr,{initialValue:ie,onChange:Oe,ref:y}),e[141]=ie,e[142]=at):at=e[142];let ot;e[143]!==st||e[144]!==at?(ot=a.jsx(Jr,{display:"flex","data-testid":"vision-query-editor",children:a.jsxs(ue,{flex:1,children:[st,at]})}),e[143]=st,e[144]=at,e[145]=ot):ot=e[145];let lt;e[146]!==ku||e[147]!==G.error||e[148]!==G.raw||e[149]!==G.valid?(lt=a.jsx(Ns,{value:G.raw,onChange:ku,paramsError:G.error,hasValidParams:G.valid,editorRef:c}),e[146]=ku,e[147]=G.error,e[148]=G.raw,e[149]=G.valid,e[150]=lt):lt=e[150];let ct;e[151]!==Nu||e[152]!==ce||e[153]!==ke||e[154]!==G.valid||e[155]!==Ne?(ct=a.jsx(Us,{hasValidParams:G.valid,queryInProgress:Ne,listenInProgress:ke,onQueryExecution:ce,onListenExecution:Nu}),e[151]=Nu,e[152]=ce,e[153]=ke,e[154]=G.valid,e[155]=Ne,e[156]=ct):ct=e[156];let dt;e[157]!==lt||e[158]!==ct?(dt=a.jsxs(Jr,{display:"flex",children:[lt,ct]}),e[157]=lt,e[158]=ct,e[159]=dt):dt=e[159];let Dt;e[160]!==ve.allowResize||e[161]!==ve.maxSize||e[162]!==ve.size||e[163]!==Vu||e[164]!==qu||e[165]!==ot||e[166]!==dt?(Dt=a.jsx(ue,{height:"stretch",flex:1,children:a.jsxs(Wu,{className:"sidebarPanes",split:"horizontal",defaultSize:Vu,size:En,allowResize:gn,minSize:qu,maxSize:yn,primary:"first",children:[ot,dt]})}),e[160]=ve.allowResize,e[161]=ve.maxSize,e[162]=ve.size,e[163]=Vu,e[164]=qu,e[165]=ot,e[166]=dt,e[167]=Dt):Dt=e[167];let ft;e[168]!==M||e[169]!==bu||e[170]!==vu||e[171]!==ke||e[172]!==Ce||e[173]!==Ne||e[174]!==et||e[175]!==xu?(ft=a.jsx(Aa,{error:vu,queryInProgress:Ne,queryResult:et,listenInProgress:ke,listenMutations:Ce,dataset:M,queryTime:xu,e2eTime:bu}),e[168]=M,e[169]=bu,e[170]=vu,e[171]=ke,e[172]=Ce,e[173]=Ne,e[174]=et,e[175]=xu,e[176]=ft):ft=e[176];let pt;e[177]!==Mu||e[178]!==Dt||e[179]!==ft?(pt=a.jsx(ue,{height:"stretch",flex:1,children:a.jsxs(Wu,{className:"sidebarPanes",split:Mu,minSize:300,children:[Dt,ft]})}),e[177]=Mu,e[178]=Dt,e[179]=ft,e[180]=pt):pt=e[180];let lu;e[181]===Symbol.for("react.memo_cache_sentinel")?(lu={position:"relative",height:"100%"},e[181]=lu):lu=e[181];let cu;e[182]===Symbol.for("react.memo_cache_sentinel")?(cu={position:"absolute",left:-32,top:"50%",transform:"translateY(-50%)",zIndex:100,pointerEvents:"auto"},e[182]=cu):cu=e[182];let ht;e[183]!==Ke?(ht=()=>Fn(!Ke),e[183]=Ke,e[184]=ht):ht=e[184];let du;e[185]===Symbol.for("react.memo_cache_sentinel")?(du={display:"flex",alignItems:"center",height:"100%"},e[185]=du):du=e[185];let Ct;e[186]!==Ke?(Ct=a.jsx("div",{style:du,children:Ke?a.jsx(Ln,{}):a.jsx(Tn,{})}),e[186]=Ke,e[187]=Ct):Ct=e[187];let mt;e[188]!==ht||e[189]!==Ct?(mt=a.jsx(Pe,{mode:"ghost",padding:2,style:cu,onClick:ht,children:Ct}),e[188]=ht,e[189]=Ct,e[190]=mt):mt=e[190];let Ft;e[191]!==G.parsed?(Ft=G.parsed||{},e[191]=G.parsed,e[192]=Ft):Ft=e[192];let At;e[193]!==Lu||e[194]!==ut||e[195]!==ie||e[196]!==rt||e[197]!==Ft||e[198]!==q?(At=a.jsx(Vs,{url:q,getStateFromUrl:ut,setStateFromParsedUrl:rt,currentQuery:ie,currentParams:Ft,generateUrl:Lu}),e[193]=Lu,e[194]=ut,e[195]=ie,e[196]=rt,e[197]=Ft,e[198]=q,e[199]=At):At=e[199];let Et;e[200]!==mt||e[201]!==At?(Et=a.jsxs(ue,{style:lu,children:[mt,At]}),e[200]=mt,e[201]=At,e[202]=Et):Et=e[202];let gt;e[203]!==Tu||e[204]!==pt||e[205]!==Et?(gt=a.jsx(vs,{flex:"auto",children:a.jsxs(Wu,{minSize:800,defaultSize:window.innerWidth-275,size:Tu,maxSize:-225,primary:"first",children:[pt,Et]})}),e[203]=Tu,e[204]=pt,e[205]=Et,e[206]=gt):gt=e[206];let Du;return e[207]!==nt||e[208]!==gt?(Du=a.jsxs(Dn,{direction:"column",height:"fill",ref:m,sizing:"border",overflow:"hidden","data-testid":"vision-root",children:[nt,gt]}),e[207]=nt,e[208]=gt,e[209]=Du):Du=e[209],Du}function xa(t){return On(t._id)}function Ba(t){return Pn(t)&&t.state==="scheduled"}function ba(t){const e=le.c(7),{client:u,datasets:r}=t;let l;e:{if(Array.isArray(r)){let o;e[0]!==r?(o=Hr(r),e[0]=r,e[1]=o):o=e[1],l=o;break e}let n;if(e[2]!==u.observable.datasets||e[3]!==r){let o;e[5]!==r?(o=i=>typeof r=="function"?r(i).map(ja):i.map(wa),e[5]=r,e[6]=o):o=e[6],n=u.observable.datasets.list().pipe(Wr(o),bn(Sa)),e[2]=u.observable.datasets,e[3]=r,e[4]=n}else n=e[4];l=n}return Sn(l,null)}function Sa(t){return Hr(t)}function wa(t){return t.name}function ja(t){return t.name}function _a(t){const e=le.c(19);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={apiVersion:"v2025-06-27"},e[0]=u):u=e[0];const r=dr(u);let l;e[1]!==r||e[2]!==t.config.datasets?(l={client:r,datasets:t.config.datasets},e[1]=r,e[2]=t.config.datasets,e[3]=l):l=e[3];const n=ba(l);if(!n){let F;return e[4]===Symbol.for("react.memo_cache_sentinel")?(F=a.jsx(ge,{align:"center",height:"fill",justify:"center",children:a.jsx(on,{})}),e[4]=F):F=e[4],F}let o;e[5]!==n||e[6]!==t.client?(o=n instanceof Error?[t.client.config().dataset||"production"]:n,e[5]=n,e[6]=t.client,e[7]=o):o=e[7];const i=o;let s;e[8]!==t.client?(s=t.client.config(),e[8]=t.client,e[9]=s):s=e[9];const d=s.projectId;let C;e[10]!==i||e[11]!==t.client||e[12]!==t.config.defaultDataset?(C=t.config.defaultDataset||t.client.config().dataset||i[0],e[10]=i,e[11]=t.client,e[12]=t.config.defaultDataset,e[13]=C):C=e[13];const D=C;let B;return e[14]!==i||e[15]!==D||e[16]!==d||e[17]!==t?(B=a.jsx(va,{...t,datasets:i,projectId:d,defaultDataset:D},d),e[14]=i,e[15]=D,e[16]=d,e[17]=t,e[18]=B):B=e[18],B}class Ra extends O.Component{constructor(e){super(e),this.state={error:null,numRetries:0}}static getDerivedStateFromError(e){return{error:e instanceof Error?e.message:`${e}`}}handleRetryRender=()=>this.setState(e=>({error:null,numRetries:e.numRetries+1}));handleRetryWithCacheClear=()=>{Cs(),this.handleRetryRender()};render(){if(!this.state.error)return this.props.children;const e=this.state.error,u=this.state.numRetries>0;return a.jsx(De,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:a.jsx(xn,{width:3,children:a.jsxs(Ee,{space:4,children:[a.jsx("div",{children:a.jsx(Pe,{onClick:u?this.handleRetryWithCacheClear:this.handleRetryRender,text:u?"Clear cache and retry":"Retry",tone:"default"})}),a.jsx(Bn,{children:"An error occurred"}),a.jsx(De,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:a.jsx(Ee,{space:4,children:e&&a.jsx(Eu,{size:1,children:a.jsxs("strong",{children:["Error: ",e]})})})})]})})})}}function Na(t){const e=le.c(6);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={apiVersion:"1"},e[0]=u):u=e[0];const r=dr(u);let l;e[1]!==t.tool.options?(l={defaultApiVersion:an,...t.tool.options},e[1]=t.tool.options,e[2]=l):l=e[2];const n=l;let o;return e[3]!==r||e[4]!==n?(o=a.jsx(Ra,{children:a.jsx(_a,{client:r,config:n})}),e[3]=r,e[4]=n,e[5]=o):o=e[5],o}export{Na as default};
